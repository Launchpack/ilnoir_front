{"remainingRequest":"/Users/mard/dev/grit12/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mard/dev/grit12/src/components/Components/Block/BlockProductDetailCard.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mard/dev/grit12/src/components/Components/Block/BlockProductDetailCard.vue","mtime":1605260013000},{"path":"/Users/mard/dev/grit12/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mard/dev/grit12/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/mard/dev/grit12/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mard/dev/grit12/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport BtnPc from \"@/components/Components/Button/BtnPc\"\n\nexport default {\n  name: 'BlockProductDetailCard',\n  components: {\n    BtnPc\n  },\n  mixins: [\n\n  ],\n  props: {\n\n  },\n  data() {\n    return {\n      \"product\": undefined,\n      \"fixedState\": false,\n      \"constructor\": \"\"\n    }\n  },\n  created() {\n    this.getData();\n    this.detectClientHeight();\n  },\n  mounted() {\n    this.$nextTick(() => {\n      window.addEventListener('scroll', this.detectClientHeight);\n    });\n  },\n  updated() {\n    this.detectClientHeight();\n  },\n  destroyed() {\n    this.product = undefined;\n  },\n  \n  methods: {\n    getData() {\n      this.$axios.get(`/user/${this.user.user_id}/mapping/product/${this.$route.query.id}?fields=id,img,name,simple_desc,tags,form,\n      order_conversion_type,category1,category2,category3,rate,stock,input,like_count,reviews_count,visit,price,partner,\n      address,dong,distance,params,imgs,info,operating_time,phone,params,order_conversion_type`)\n      .then(res => {\n          this.product = res.data;\n          this.product_params = this.cloneItem(this.product.params);\n          \n          if(this.product.params&&this.product.params.length>0) {\n            this.product.params.forEach(item => {\n              if(item.param_id===7&&item.value) {\n                this.constructor = item.value;\n              }\n            })\n          }\n          \n        });\n      },\n    detectClientHeight() {\n      this.$nextTick(function() {\n        if(this.$refs.cardHeight) {\n          if (document.documentElement.scrollTop > this.$refs.cardHeight.clientHeight) {\n            this.fixedState = true;\n            this.$emit('fixedState', true);\n          }\n          else {\n            this.fixedState = false;\n            this.$emit('fixedState', false);\n          }\n        }\n      })\n    },\n    clickCall() {\n      let user_id = this.$store.getters.user.user_id;\n        let url = `user/${user_id}/product/${this.$route.query.id}/call`;\n        this.$axios.get(url).then(res=>{\n          location.href = `tel:${res.data.call}`;\n          this.$refs.callModal.close();\n        })\n    }\n  },\n  computed: {\n    imgStyle() {\n      return {\n        width: '100%',\n        height: '360px',\n        backgroundSize: 'cover',\n        backgroundRepeat: 'no-repeat',\n        backgroundPosition: 'center',\n        // backgroundImage: `url(\"${this.product.img}\")`\n      }\n    },\n    partnerStyle() {\n      return {\n        padding: '16px',\n        border: `1px solid ${this.getColor('기본 테두리선 색상')}`\n      }\n    },\n    partnerImg() {\n      return {\n        width: '48px',\n        height: '48px',\n        backgroundSize: 'cover',\n        backgroundRepeat: 'no-repeat',\n        backgroundPosition: 'center',\n        backgroundImage: `url(\"${this.product.partner.img}\")`,\n        borderRadius: '50%'\n      }\n    }\n  },\n  watch: {\n    \n  }\n}\n",{"version":3,"sources":["BlockProductDetailCard.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsCA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"BlockProductDetailCard.vue","sourceRoot":"src/components/Components/Block","sourcesContent":["<template>\n<div v-if=\"product\" ref=\"cardHeight\"\n  :style=\"pagePadding\">\n  <div style=\"padding:16px 0\">\n    <div v-lazy:background-image=\"product.img\" class=\"lazy-background-image\" :style=\"imgStyle\"></div>\n  </div>\n  \n    <div :style=\"brandColor.white\">\n      <div class=\"size-20 margin-bottom-18 bold\" style=\"font-weight:500\">{{ product.name }}</div>\n      \n      <div class=\"flex-align margin-bottom-10\">\n            <div class=\"size-12 col-3\" style=\"color:#CCCCCC\">판매가</div>\n            <div class=\"size-15 bold\" :style=\"brandColor.white\">{{product.price.sale_price | currency}}</div>\n          </div>       \n          \n          <div class=\"flex-align margin-bottom-30\" v-if=\"constructor\">\n            <div class=\"size-12 col-3\" style=\"color:#CCCCCC\">제조사</div>\n            <div class=\"size-12\" style=\"color:#CCCCCC\">{{constructor}}</div>\n          </div>    \n          \n      <btn-pc styles=\"primary\" @onClick=\"$refs.callModal.open()\"\n        class=\"margin-bottom-16\"\n        width=\"100%\">구매 문의</btn-pc>\n      <!--<btn-ordering :product=\"product\"></btn-ordering>-->\n        \n    </div>\n\n  <!-- 전화연결 팝업 -->\n  <sweet-modal ref=\"callModal\" overlay-theme=\"dark\">\n    <modal @confirm=\"clickCall\" @cancel=\"$refs.callModal.close()\">\n      <div slot=\"header\">전화연결</div>\n      <div slot=\"content\">연결 버튼을 누르시면 전화연결이 진행됩니다. 진행하시겠습니까?</div>\n    </modal>\n  </sweet-modal>\n\n</div>\n</template>\n<script>\nimport BtnPc from \"@/components/Components/Button/BtnPc\"\n\nexport default {\n  name: 'BlockProductDetailCard',\n  components: {\n    BtnPc\n  },\n  mixins: [\n\n  ],\n  props: {\n\n  },\n  data() {\n    return {\n      \"product\": undefined,\n      \"fixedState\": false,\n      \"constructor\": \"\"\n    }\n  },\n  created() {\n    this.getData();\n    this.detectClientHeight();\n  },\n  mounted() {\n    this.$nextTick(() => {\n      window.addEventListener('scroll', this.detectClientHeight);\n    });\n  },\n  updated() {\n    this.detectClientHeight();\n  },\n  destroyed() {\n    this.product = undefined;\n  },\n  \n  methods: {\n    getData() {\n      this.$axios.get(`/user/${this.user.user_id}/mapping/product/${this.$route.query.id}?fields=id,img,name,simple_desc,tags,form,\n      order_conversion_type,category1,category2,category3,rate,stock,input,like_count,reviews_count,visit,price,partner,\n      address,dong,distance,params,imgs,info,operating_time,phone,params,order_conversion_type`)\n      .then(res => {\n          this.product = res.data;\n          this.product_params = this.cloneItem(this.product.params);\n          \n          if(this.product.params&&this.product.params.length>0) {\n            this.product.params.forEach(item => {\n              if(item.param_id===7&&item.value) {\n                this.constructor = item.value;\n              }\n            })\n          }\n          \n        });\n      },\n    detectClientHeight() {\n      this.$nextTick(function() {\n        if(this.$refs.cardHeight) {\n          if (document.documentElement.scrollTop > this.$refs.cardHeight.clientHeight) {\n            this.fixedState = true;\n            this.$emit('fixedState', true);\n          }\n          else {\n            this.fixedState = false;\n            this.$emit('fixedState', false);\n          }\n        }\n      })\n    },\n    clickCall() {\n      let user_id = this.$store.getters.user.user_id;\n        let url = `user/${user_id}/product/${this.$route.query.id}/call`;\n        this.$axios.get(url).then(res=>{\n          location.href = `tel:${res.data.call}`;\n          this.$refs.callModal.close();\n        })\n    }\n  },\n  computed: {\n    imgStyle() {\n      return {\n        width: '100%',\n        height: '360px',\n        backgroundSize: 'cover',\n        backgroundRepeat: 'no-repeat',\n        backgroundPosition: 'center',\n        // backgroundImage: `url(\"${this.product.img}\")`\n      }\n    },\n    partnerStyle() {\n      return {\n        padding: '16px',\n        border: `1px solid ${this.getColor('기본 테두리선 색상')}`\n      }\n    },\n    partnerImg() {\n      return {\n        width: '48px',\n        height: '48px',\n        backgroundSize: 'cover',\n        backgroundRepeat: 'no-repeat',\n        backgroundPosition: 'center',\n        backgroundImage: `url(\"${this.product.partner.img}\")`,\n        borderRadius: '50%'\n      }\n    }\n  },\n  watch: {\n    \n  }\n}\n</script>\n\n\n"]}]}