{"remainingRequest":"/Users/mard/dev/grit12/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mard/dev/grit12/src/components/Components/Form/CInputDiscount.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mard/dev/grit12/src/components/Components/Form/CInputDiscount.vue","mtime":1605259986000},{"path":"/Users/mard/dev/grit12/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mard/dev/grit12/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/mard/dev/grit12/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mard/dev/grit12/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n  import FormMixin from '@/components/Mixins/FormMixin'\n\nexport default {\n  name: \"c-input-discount\",\n  mixins: [FormMixin],\n  props: {\n    type: {\n      type: String,\n      required: false,\n      default: \"text\"\n    },\n    validate: {\n      type: Object,\n      required: false\n    },\n    prefix: {\n      type: String,\n      required: false\n    },\n    containStyle: {\n      type: Object,\n      required: false\n    },\n    discountInputCustomStyle: {\n      type: Object,\n      required: false\n    }\n  },\n  data() {\n    return {\n      discountRateInputValue: \"\",\n      discountPriceInputValue: \"\",\n      selectedValue: 0,\n      computedInputStyle: undefined\n    };\n  },\n  mounted() {\n    this.computeInputStyle();\n  },\n  methods: {\n    computeInputStyle() {\n      let deco = this.inputStyle;\n      if (this.discountInputCustomStyle) {\n        deco = this.discountInputCustomStyle;\n      }\n\n      /*let color = this.getColor('기본 테두리선 색상');\n        if(this.errorMsg !== '') {\n         color = this.brandBgColor.alert.backgroundColor;\n        }\n\n        switch (this.formType && this.formType.input) {\n          case 'round':\n            deco.borderRadius = this.radius.borderRadius;\n            deco.border = `1px solid ${color}`;\n            break;\n          case 'underline':\n            deco.borderBottom = `1px solid ${color}`;\n            break;\n        }*/\n\n      if (this.$store) {\n        deco.fontFamily = this.$store.getters.brand.font;\n      }\n\n      this.computedInputStyle = deco;\n    },\n    selectRadioButton(value) {\n      this.selectedValue = value;\n      this.$emit(\"update:value\", {\n        ...this.value,\n        discount_type: this.selectedValue\n      });\n    },\n    outerStyle() {\n      let deco = {\n        width: \"18px\",\n        height: \"18px\",\n        margin: \"0px 8px 0px 0px\",\n        border: \"1px solid \" + this.getColor(\"기본 테두리선 색상\"),\n        backgroundColor: this.brandBgColor.white.backgroundColor,\n        cursor: \"pointer\"\n      };\n\n      return deco;\n    },\n\n    innerStyle() {\n      let deco = {\n        width: \"8px\",\n        height: \"8px\",\n        backgroundColor: this.brandBgColor.brand.backgroundColor,\n        cursor: \"pointer\"\n      };\n\n      return deco;\n    },\n    onKeyupRateValue(value) {\n      this.discountRateInputValue = value;\n\n      if (this.type === \"phone\") {\n        this.discountRateInputValue = autoHyphenPhone(\n          this.discountRateInputValue\n        );\n      }\n      // 숫자 타입일 때, 최대값이 설정된 경우 그 값이상 못 올라가도록 설정\n      else if (this.type === \"number\") {\n        this.discountRateInputValue.replace(\"-\", \"\");\n        let max = this.validate.max_length;\n        if (max && max > 0) {\n          if (parseInt(this.discountRateInputValue) > max) {\n            this.discountRateInputValue = max;\n          }\n        }\n      }\n\n      this.$emit(\"update:value\", {\n        ...this.value,\n        discount_rate: parseInt(this.discountRateInputValue)\n      });\n    },\n    onKeyupPriceValue(value) {\n      this.discountPriceInputValue = value;\n\n      if (this.type === \"phone\") {\n        this.discountPriceInputValue = autoHyphenPhone(\n          this.discountPriceInputValue\n        );\n      }\n      // 숫자 타입일 때, 최대값이 설정된 경우 그 값이상 못 올라가도록 설정\n      else if (this.type === \"number\") {\n        this.discountPriceInputValue.replace(\"-\", \"\");\n        let max = this.validate.max_length;\n        if (max && max > 0) {\n          if (parseInt(this.discountPriceInputValue) > max) {\n            this.discountPriceInputValue = max;\n          }\n        }\n      }\n\n      this.$emit(\"update:value\", {\n        ...this.value,\n        discount_price: parseInt(this.discountPriceInputValue)\n      });\n    },\n    chkValid() {\n      // validation이 필수가 아닌 경우\n      if (!this.validate.valid_required) return;\n\n      let props = {\n        value: this.value,\n        type: this.type,\n        validate: this.validate\n      };\n\n      this.errorMsg = this.isValid(props, this.name);\n      this.validate.error_msg = this.errorMsg;\n      // this.valid.error_msg = this.errorMsg;\n      this.computeInputStyle();\n    }\n  },\n  computed: {\n    maxLength() {\n      if (this.validate)\n        return this.validate.max_length ? this.validate.max_length : 50;\n    },\n    disableStyle() {\n      return {\n        borderRadius: this.inputStyle.borderRadius\n          ? this.inputStyle.borderRadius\n          : \"0\",\n        backgroundColor: this.brandBgColor.sub\n      };\n    }\n  }\n};\n",{"version":3,"sources":["CInputDiscount.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+DA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CInputDiscount.vue","sourceRoot":"src/components/Components/Form","sourcesContent":["<template>\r\n  <div :style=\"containerStyle\">\r\n    <div>\r\n      <div class=\"flex-align\" @click=\"selectRadioButton(0)\" style=\"margin-top: 8px\">\r\n        <div class=\"outer\" :style=\"outerStyle()\">\r\n          <div v-if=\"selectedValue === 0\" class=\"inner\" :style=\"innerStyle()\"></div>\r\n        </div>\r\n        <div class=\"flex-align\">\r\n          할인율\r\n          <div class=\"flex-align position-relative\" style=\"margin-left: 8px; margin-right: 3.8px\">\r\n            <div class=\"flex-align\" :style=\"disableStyle\">\r\n              <div v-if=\"prefix\" :style=\"brandColor.brand\" style=\"padding-right: 8px\">{{ prefix }}</div>\r\n              <input\r\n                class=\"input\"\r\n                :class=\"{'input-disabled': selectedValue === 1}\"\r\n                :style=\"computedInputStyle\"\r\n                ref=\"input\"\r\n                type=\"number\"\r\n                :value=\"discountRateInputValue\"\r\n                min=\"0\"\r\n                :maxlength=\"maxLength\"\r\n                @keyup.enter=\"$emit('onEnter')\"\r\n                @blur=\"chkValid\"\r\n                :placeholder=\"placeholder\"\r\n                @input=\"e => onKeyupRateValue(e.target.value)\"\r\n                :readonly=\"selectedValue===1\"\r\n              />\r\n            </div>\r\n          </div>%\r\n        </div>\r\n      </div>\r\n      <div class=\"flex-align\" @click=\"selectRadioButton(1)\" style=\"margin-top: 8px\">\r\n        <div class=\"outer\" :style=\"outerStyle()\">\r\n          <div v-if=\"selectedValue === 1\" class=\"inner\" :style=\"innerStyle()\"></div>\r\n        </div>\r\n        <div class=\"flex-align\">\r\n          금액할인\r\n          <div class=\"flex-align position-relative\" style=\"margin-left: 8px; margin-right: 3.8px\">\r\n            <div class=\"flex-align\" :style=\"disableStyle\">\r\n              <div v-if=\"prefix\" :style=\"brandColor.brand\" style=\"padding-right: 8px\">{{ prefix }}</div>\r\n              <input\r\n                class=\"input\"\r\n                :class=\"{'input-disabled': selectedValue === 0}\"\r\n                :style=\"computedInputStyle\"\r\n                ref=\"input\"\r\n                type=\"number\"\r\n                :value=\"discountPriceInputValue\"\r\n                min=\"0\"\r\n                :maxlength=\"maxLength\"\r\n                @keyup.enter=\"$emit('onEnter')\"\r\n                @blur=\"chkValid\"\r\n                :placeholder=\"placeholder\"\r\n                @input=\"e => onKeyupPriceValue(e.target.value)\"\r\n                :readonly=\"selectedValue===0\"\r\n              />\r\n            </div>\r\n          </div>원\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\n  import FormMixin from '@/components/Mixins/FormMixin'\r\n\r\nexport default {\r\n  name: \"c-input-discount\",\r\n  mixins: [FormMixin],\r\n  props: {\r\n    type: {\r\n      type: String,\r\n      required: false,\r\n      default: \"text\"\r\n    },\r\n    validate: {\r\n      type: Object,\r\n      required: false\r\n    },\r\n    prefix: {\r\n      type: String,\r\n      required: false\r\n    },\r\n    containStyle: {\r\n      type: Object,\r\n      required: false\r\n    },\r\n    discountInputCustomStyle: {\r\n      type: Object,\r\n      required: false\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      discountRateInputValue: \"\",\r\n      discountPriceInputValue: \"\",\r\n      selectedValue: 0,\r\n      computedInputStyle: undefined\r\n    };\r\n  },\r\n  mounted() {\r\n    this.computeInputStyle();\r\n  },\r\n  methods: {\r\n    computeInputStyle() {\r\n      let deco = this.inputStyle;\r\n      if (this.discountInputCustomStyle) {\r\n        deco = this.discountInputCustomStyle;\r\n      }\r\n\r\n      /*let color = this.getColor('기본 테두리선 색상');\r\n        if(this.errorMsg !== '') {\r\n         color = this.brandBgColor.alert.backgroundColor;\r\n        }\r\n\r\n        switch (this.formType && this.formType.input) {\r\n          case 'round':\r\n            deco.borderRadius = this.radius.borderRadius;\r\n            deco.border = `1px solid ${color}`;\r\n            break;\r\n          case 'underline':\r\n            deco.borderBottom = `1px solid ${color}`;\r\n            break;\r\n        }*/\r\n\r\n      if (this.$store) {\r\n        deco.fontFamily = this.$store.getters.brand.font;\r\n      }\r\n\r\n      this.computedInputStyle = deco;\r\n    },\r\n    selectRadioButton(value) {\r\n      this.selectedValue = value;\r\n      this.$emit(\"update:value\", {\r\n        ...this.value,\r\n        discount_type: this.selectedValue\r\n      });\r\n    },\r\n    outerStyle() {\r\n      let deco = {\r\n        width: \"18px\",\r\n        height: \"18px\",\r\n        margin: \"0px 8px 0px 0px\",\r\n        border: \"1px solid \" + this.getColor(\"기본 테두리선 색상\"),\r\n        backgroundColor: this.brandBgColor.white.backgroundColor,\r\n        cursor: \"pointer\"\r\n      };\r\n\r\n      return deco;\r\n    },\r\n\r\n    innerStyle() {\r\n      let deco = {\r\n        width: \"8px\",\r\n        height: \"8px\",\r\n        backgroundColor: this.brandBgColor.brand.backgroundColor,\r\n        cursor: \"pointer\"\r\n      };\r\n\r\n      return deco;\r\n    },\r\n    onKeyupRateValue(value) {\r\n      this.discountRateInputValue = value;\r\n\r\n      if (this.type === \"phone\") {\r\n        this.discountRateInputValue = autoHyphenPhone(\r\n          this.discountRateInputValue\r\n        );\r\n      }\r\n      // 숫자 타입일 때, 최대값이 설정된 경우 그 값이상 못 올라가도록 설정\r\n      else if (this.type === \"number\") {\r\n        this.discountRateInputValue.replace(\"-\", \"\");\r\n        let max = this.validate.max_length;\r\n        if (max && max > 0) {\r\n          if (parseInt(this.discountRateInputValue) > max) {\r\n            this.discountRateInputValue = max;\r\n          }\r\n        }\r\n      }\r\n\r\n      this.$emit(\"update:value\", {\r\n        ...this.value,\r\n        discount_rate: parseInt(this.discountRateInputValue)\r\n      });\r\n    },\r\n    onKeyupPriceValue(value) {\r\n      this.discountPriceInputValue = value;\r\n\r\n      if (this.type === \"phone\") {\r\n        this.discountPriceInputValue = autoHyphenPhone(\r\n          this.discountPriceInputValue\r\n        );\r\n      }\r\n      // 숫자 타입일 때, 최대값이 설정된 경우 그 값이상 못 올라가도록 설정\r\n      else if (this.type === \"number\") {\r\n        this.discountPriceInputValue.replace(\"-\", \"\");\r\n        let max = this.validate.max_length;\r\n        if (max && max > 0) {\r\n          if (parseInt(this.discountPriceInputValue) > max) {\r\n            this.discountPriceInputValue = max;\r\n          }\r\n        }\r\n      }\r\n\r\n      this.$emit(\"update:value\", {\r\n        ...this.value,\r\n        discount_price: parseInt(this.discountPriceInputValue)\r\n      });\r\n    },\r\n    chkValid() {\r\n      // validation이 필수가 아닌 경우\r\n      if (!this.validate.valid_required) return;\r\n\r\n      let props = {\r\n        value: this.value,\r\n        type: this.type,\r\n        validate: this.validate\r\n      };\r\n\r\n      this.errorMsg = this.isValid(props, this.name);\r\n      this.validate.error_msg = this.errorMsg;\r\n      // this.valid.error_msg = this.errorMsg;\r\n      this.computeInputStyle();\r\n    }\r\n  },\r\n  computed: {\r\n    maxLength() {\r\n      if (this.validate)\r\n        return this.validate.max_length ? this.validate.max_length : 50;\r\n    },\r\n    disableStyle() {\r\n      return {\r\n        borderRadius: this.inputStyle.borderRadius\r\n          ? this.inputStyle.borderRadius\r\n          : \"0\",\r\n        backgroundColor: this.brandBgColor.sub\r\n      };\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"stylus\" type=\"stylus\" scoped>\r\ninput\r\n  border 0\r\n  flex 1\r\n  background-color white\r\n  -webkit-appearance none\r\n  -webkit-border-radius 0\r\n\r\n.outer\r\n  border-radius 50%\r\n  display flex\r\n  align-items center\r\n  justify-content center\r\n  width 18px\r\n  height 18px\r\n\r\n.inner\r\n  border-radius 50%\r\n  width 10px\r\n  height 10px\r\n\r\n.input-disabled\r\n  background-color #eee !important\r\n</style>"]}]}