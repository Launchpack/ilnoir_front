{"remainingRequest":"/Users/mard/dev/ilnoir/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mard/dev/ilnoir/src/components/Components/Form/CInputDateRange.vue?vue&type=style&index=0&id=656609d6&scoped=true&lang=css&","dependencies":[{"path":"/Users/mard/dev/ilnoir/src/components/Components/Form/CInputDateRange.vue","mtime":1605259986000},{"path":"/Users/mard/dev/ilnoir/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/Users/mard/dev/ilnoir/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/mard/dev/ilnoir/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/mard/dev/ilnoir/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mard/dev/ilnoir/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\n.lp-month {\r\n  font-size: 15px;\r\n  margin: 0 12px;\r\n}\r\n.lp-days {\r\n  padding: 13px 20px;\r\n  /* border-top: 1px solid #ddd; */\r\n  border-bottom: 1px solid #ddd;\r\n  margin-bottom: 12px;\r\n  /* position: fixed; */\r\n  top: 50px;\r\n  left: 0;\r\n  right: 0;\r\n  z-index: 1;\r\n  background-color: rgba(255,255,255,0.7);\r\n}\r\n.lp-day {\r\n  width: 14.2857%;\r\n  text-align: center;\r\n}\r\n.lp-day-sun {\r\n  color: #f45853;\r\n}\r\n.lp-day-sat {\r\n  color: #3c93cf;\r\n}\r\n.lp-dates {\r\n  margin-bottom: 20px;\r\n}\r\n.lp-date {\r\n  width: 14.2857%;\r\n  height: 14.2857%;\r\n  display: flex;\r\n  justify-content: center;\r\n  margin: 8px 0;\r\n}\r\n.icon-arrow {\r\n  color: #fff;\r\n  background-color: #777;\r\n  border-radius: 50%;\r\n  font-size: 18px;\r\n}\r\n.box-resv {\r\n  padding: 12px 0;\r\n  border-top: 1px solid #ddd;\r\n}\r\n\r\n.date-number {\r\n  height: 100%;\r\n  width: 20px;\r\n  text-align: center;\r\n  top: 0;\r\n  left: calc(50% - 10px);\r\n}\r\n\r\n.fixed-bottom-ie {\r\n  transform: translateX(-50%) translateY(-60%) !important;\r\n  max-width: 33% !important;\r\n}\r\n.fixed-bottom-ie-content {\r\n  margin: 0 44px;\r\n}\r\n.fixed-bottom-ios {\r\n  position: absolute !important;\r\n}\r\n",{"version":3,"sources":["CInputDateRange.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4lBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CInputDateRange.vue","sourceRoot":"src/components/Components/Form","sourcesContent":["<template>\r\n<div>\r\n\r\n  <!-- 레이블 -->\r\n  <div v-if=\"formType.label && label\" :style=\"labelStyle\">{{ label }}</div>\r\n\r\n  <!-- input 영역 -->\r\n  <div :style=\"inputStyle\" class=\"flex-between position-relative unselect\" @click=\"$refs.schedulePeriodModal.open()\">\r\n    <div class=\"flex-align\">\r\n      <i class=\"material-icons\" style=\"font-size: 20px; margin-right: 8px; color: #d6d6d6\">today</i>\r\n      <span v-if=\"start_date && end_date\">{{ `${period.resv_date} ~ ${period.resv_end_date}` }}</span>\r\n      <!-- <span v-else-if=\"placeholder\">{{ placeholder }}</span> -->\r\n      <span v-else>{{ placeHolder }}</span>\r\n    </div>\r\n    <i :style=\"iconStyle\" class=\"material-icons\">keyboard_arrow_down</i>\r\n  </div>\r\n\r\n  <sweet-modal ref=\"schedulePeriodModal\" overlay-theme=\"dark\">\r\n  <div style=\"height:75vh;padding-bottom:40px\">\r\n    <div class=\"size-20 bold margin-bottom-12\" :style=\"brandColor.main\"\r\n    style=\"padding:20px 16px 0\">날짜 선택</div>\r\n  <!-- 요일 -->\r\n    <div class=\"flex lp-days\" :style=\"brandColor.main\">\r\n      <div class=\"lp-day size-14 weight-500\"\r\n           v-for=\"(day,idx) in days\" :key=\"'day-'+idx\" :class=\"{'lp-day-sun': idx===0, 'lp-day-sat': idx===6}\">{{ day }}</div>\r\n      <div class=\"days-divider\"></div>\r\n    </div>\r\n\r\n    <div :style=\"[wrapScroll]\">\r\n        <div style=\"margin-bottom:50px;\" v-if=\"visible\">\r\n        <!-- 요일 -->\r\n        <!--<div class=\"flex lp-days\" :style=\"brandColor.main\">-->\r\n        <!--  <div class=\"lp-day size-14 weight-500\"-->\r\n        <!--       v-for=\"(day,idx) in days\" :key=\"'day-'+idx\" :class=\"{'lp-day-sun': idx===0, 'lp-day-sat': idx===6}\">{{ day }}</div>-->\r\n        <!--  <div class=\"days-divider\"></div>-->\r\n        <!--</div>-->\r\n        <div style=\"padding:70px 20px 100px 20px;\">\r\n        <!-- 일 -->\r\n        <div v-for=\"(cal, cal_idx) in calendar\" :key=\"`cal-${cal_idx}`\">\r\n        <div class=\"size-20 bold\">{{ cal.year }}년 {{ cal.month }}월</div>\r\n        <div class=\"flex wrap lp-dates\">\r\n            <div class=\"lp-date unselect position-relative\"\r\n                v-for=\"(date,idx) in cal.dates\"\r\n                :key=\"'date-wrap'+idx\"\r\n                @click=\"clickDate(date, idx)\"\r\n                :style=\"dayWrapStyle(date)\">\r\n            <div class=\"flex-center\" :style=\"dayStyle(date, idx)\" :key=\"'date'+idx\">\r\n                <!-- 일자 표시 -->\r\n                <div class=\"position-absolute size-14 weight-500 date-number\">{{ date.day > 0 ? date.day : '' }}</div>\r\n            </div>\r\n            </div>\r\n        </div>\r\n        </div>\r\n        </div>\r\n\r\n        <fixed-bottom v-if=\"touch>0\" style=\"width:90%;\" :class=\"{'fixed-bottom-ie': this.isIE, 'fixed-bottom-ios': this.isIOS}\">\r\n        <div :style=\"[pagePadding, brandBgColor.white, {borderTop: brandBorder.main.border}]\" \r\n        style=\"padding-top: 20px; padding-bottom: 20px;\" :class=\"{'fixed-bottom-ie-content': this.isIE}\">\r\n\r\n            <div v-if=\"btnEnable\" class=\"size-14 weight-500 flex-center\" style=\"height: 48px; margin-bottom: 12px;\"\r\n            :style=\"[brandBgColor.primary, brandColor.white, radius]\" @click=\"clickOk\">{{ selectedDate }}</div>\r\n            \r\n            <div v-if=\"!btnEnable\" class=\"size-14 weight-500 flex-center\"\r\n            style=\"height: 48px; color: #9b9b9b; background-color: #dddddd; margin-bottom: 12px;\" :style=\"radius\" \r\n            @click.stop>최소 {{ minPeriodDate }}이상 선택해야 예약이 가능합니다</div>\r\n            \r\n            <!--<div v-if=\"!btnEnable\" :style=\"brandColor.sub\" class=\"size-12\">최소 {{ minPeriodDate }}이상 선택해야 예약이 가능합니다</div>-->\r\n            <!--<div :style=\"brandColor.sub\" class=\"size-12\" style=\"margin-top: 4px;\">최소 {{ minPeriodDate }}이상 선택해야 예약이 가능합니다</div>-->\r\n            \r\n            <div class=\"size-14 weight-500 flex-center\" style=\"height: 48px;\"\r\n            :style=\"[brandBgColor.main, brandColor.main, radius]\" @click=\"$refs.schedulePeriodModal.close()\">취소</div>\r\n\r\n        <!--<btn :color=\"btnColor.color\" :backgroundColor=\"btnColor.bg\"-->\r\n        <!--     :customStyle=\"customStyle\" @clicked=\"clickOk\" style=\"width:100px\">선택완료</btn>-->\r\n        </div>\r\n        </fixed-bottom>\r\n        </div>\r\n    </div>\r\n  </div>\r\n  </sweet-modal>\r\n</div>\r\n</template>\r\n<script>\r\nimport PageMixin from \"@/components/Mixins/PageMixin\"\r\nimport FormMixin from '@/components/Mixins/FormMixin';\r\n\r\nexport default {\r\n  name: 'CInputDateRange',\r\n  components: {\r\n    \r\n  },\r\n  mixins: [\r\n    PageMixin,\r\n    FormMixin\r\n  ],\r\n  props: {\r\n    filterOptions: {    \r\n        type: Object,\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      \"max\": 1,\r\n      \"days\": [\r\n        \"일\",\r\n        \"월\",\r\n        \"화\",\r\n        \"수\",\r\n        \"목\",\r\n        \"금\",\r\n        \"토\"\r\n      ],\r\n      \"dates\": [],\r\n      \"touch\": 0,\r\n      \"maximum\": 1,\r\n      \"minimum\": 1,\r\n      \"visible\": false,\r\n      \"calendar\": [],\r\n      \"end_date\": \"\",\r\n      \"start_date\": \"\",\r\n      \"currentDate\": undefined,\r\n      \"ordered_count\": 1,\r\n      placeHolder: '날짜 선택',\r\n    }\r\n  },\r\n  created() {\r\n      this.currentDate = this.moment();\r\n      // this.$axios.get(`user/0/mapping/product/${this.$route.query.id}?fields=minimum,maximum`).then(res => {\r\n      //   this.minimum = res.data.minimum;\r\n      //   this.maximum = res.data.maximum;\r\n      // });\r\n      this.setDates();\r\n    },\r\n  \r\n  methods: {\r\n    // 선택완료\r\n    clickOk() {\r\n    //   this.$emit('clickResv', this.period);\r\n\r\n      this.filterOptions.set.forEach(item => {\r\n        if(item.operator==='__gte') item.value = this.period.resv_date;\r\n        if(item.operator==='__lte') item.value = this.period.resv_end_date;\r\n      });\r\n      // this.$store.commit('setSelectedResv', this.period);\r\n      // this.$emit('selectedLabel', 2, `${this.period.start_date_label} ~ ${this.period.end_date_label}`);\r\n      this.$emit('updateFilterOptions', this.filterOptions)\r\n      this.$emit('update.value', this.period);\r\n      this.$refs.schedulePeriodModal.close();\r\n    },\r\n    // 날짜 선택\r\n    clickDate(date) {\r\n      /* 갱신 이슈 */\r\n      date.uid = this.uuidv4();\r\n      \r\n      if(date.prev || !date.enable) {\r\n          return;\r\n      }\r\n      // 선택한 날짜가 최대 선택가능한 일 수 보다 넘치는 경우\r\n      \r\n      // 선택한 날짜가 기존 날짜보다 전일 경우 예외처리\r\n      if(this.start_date.year >= date.year && this.start_date.month >= date.month && this.start_date.day >= date.day) {\r\n        this.touch = 1;\r\n        this.start_date = date;\r\n        this.end_date = date;\r\n      }\r\n      // else if(this.calcPeriod(this.start_date, date) > this.maximum) {\r\n      //   this.touch = 1;\r\n      //   this.start_date = date;\r\n      //   this.end_date = date;\r\n      // }\r\n      // 1번쨰 터치할 경우\r\n      else if(this.touch===0) {\r\n        this.touch += 1; // touch=1\r\n        this.start_date = date;\r\n        this.end_date = date;\r\n      }\r\n      // 2번쨰 터치할 경우\r\n      else if(this.touch===1) {\r\n        console.log('touch1')\r\n        // 같은 날짜 선택\r\n        if(this.start_date.year === date.year && this.start_date.month === date.month && this.start_date.day === date.day) {\r\n          this.end_date = date; \r\n        }\r\n        // 다른 날짜 선택\r\n        else {\r\n          let start = this.start_date;\r\n          let end = date;\r\n          let start_date = this.dateFormat(this.dateToStr(start), 'date_3');\r\n          let end_date = this.dateFormat(this.dateToStr(end), 'date_3');\r\n          \r\n          // 기간안에 예약가능한 날짜가 없을 경우 선택한 날짜 단일 선택으로 변경\r\n          for(let i=0; i<this.calendar.length; i++) {\r\n            let cal = this.calendar[i];\r\n            for(let j=0; j<cal.dates.length; j++) {\r\n              let dates = cal.dates[j];\r\n              let date_item = this.dateFormat(this.dateToStr(dates), 'date_3');\r\n              \r\n              if(this.moment(start_date).isBefore(date_item) && this.moment(date_item).isBefore(end_date)) {\r\n                if(!dates.enable) {\r\n                  this.start_date = date;\r\n                  this.end_date = date;\r\n                  this.touch = 1;\r\n                  return;   \r\n                }\r\n              }\r\n            }\r\n          }\r\n          \r\n          this.touch += 1; // touch=2  \r\n          this.end_date = date;\r\n        }\r\n      }\r\n      // 3번쨰 터치할 경우\r\n      else if(this.touch===2) {\r\n        this.start_date = date;\r\n        this.end_date = date;\r\n        this.touch = 1;\r\n      }\r\n\r\n    },\r\n    dateToStr(date) {\r\n      if(date.day === '') return '';\r\n      return '%d-%02d-%02d'.format(date.year, date.month, date.day);\r\n    },\r\n    formattedDate(date) {\r\n     return this.moment(this.dateToStr(date)).format('MM월 DD일(dd)'); \r\n    },\r\n    btnStyle(resv) {\r\n        let deco = {\r\n          borderRadius: '20px',\r\n          padding: '5px 20px',\r\n          textAlign: 'center',\r\n          marginBottom: '12px'\r\n        };\r\n        if(resv.remain === 0) {\r\n          deco.color = 'white';\r\n          deco.backgroundColor = '#ddd';\r\n        }\r\n        else {\r\n          if(resv.selected) {\r\n            deco.color = 'white';\r\n            deco.backgroundColor = this.brandBgColor.brand.backgroundColor;\r\n          } else {\r\n            deco.color = this.brandColor.brand.color;\r\n          }\r\n          deco.border = this.brandBorder.brand.border;\r\n        }\r\n\r\n        return deco;\r\n      },\r\n    dayWrapStyle(date_target) {\r\n\r\n        let start = this.cloneItem(this.start_date);\r\n        let end = this.cloneItem(this.end_date);\r\n        let date_val = this.cloneItem(date_target);\r\n        \r\n        // let start_d = '%d-%02d-%0d'.format(start.year.toString(), start.month.toString(), start.day.toString());\r\n        // let end_d = '%d-%02d-%0d'.format(end.year.toString(), end.month.toString(), end.day.toString());\r\n        // let date_d = '%d-%02d-%0d'.format(date_val.year.toString(), date_val.month.toString(), date_val.day.toString());\r\n        \r\n        let start_format = '';\r\n        if (start.year && start.month && start.day) {\r\n          start_format = '%d-%02d-%02d'.format(start.year.toString(), start.month.toString(), start.day.toString());\r\n        }\r\n        \r\n        let end_format = '';\r\n        if (end.year && end.month && end.day) {\r\n          end_format = '%d-%02d-%02d'.format(end.year.toString(), end.month.toString(), end.day.toString());\r\n        }\r\n  \r\n        let date_format = '';\r\n        if (date_val.year && date_val.month && date_val.day) {\r\n          date_format = '%d-%02d-%02d'.format(date_val.year.toString(), date_val.month.toString(), date_val.day.toString());\r\n        }\r\n        \r\n        let start_date = this.moment(start_format).format('YYYY-MM-DD');\r\n        let end_date = this.moment(end_format).format('YYYY-MM-DD');\r\n        let date = this.moment(date_format).format('YYYY-MM-DD');\r\n        \r\n        let deco = {};\r\n        \r\n        // 선택한 날짜 기간에 스타일 추가\r\n        if(this.moment(start_date).isSameOrBefore(date) && this.moment(date).isSameOrBefore(end_date)) {\r\n          // console.log(start_date, end_date)\r\n          if (start_date === end_date) {\r\n            deco.justifyContent = 'center'\r\n          }\r\n          // 선택 처음날짜\r\n          else if(start_date === date) {\r\n            deco.justifyContent = 'flex-end';\r\n          }\r\n          // 선택 마지막날짜\r\n          else if(end_date === date) {\r\n            deco.justifyContent = 'flex-start';\r\n          }\r\n        }\r\n\r\n        return deco;\r\n      },\r\n    dayStyle(date_target, idx) {\r\n      \r\n      let sun = idx%7===0 ? true : false;\r\n      let sat = idx%7===6 ? true : false;\r\n      \r\n      let start = this.cloneItem(this.start_date);\r\n      let end = this.cloneItem(this.end_date);\r\n      let date_val = this.cloneItem(date_target);\r\n      \r\n      let start_format = '';\r\n      if (start.year && start.month && start.day) {\r\n        start_format = '%d-%02d-%02d'.format(start.year.toString(), start.month.toString(), start.day.toString());\r\n      }\r\n      \r\n      let end_format = '';\r\n      if (end.year && end.month && end.day) {\r\n        end_format = '%d-%02d-%02d'.format(end.year.toString(), end.month.toString(), end.day.toString());\r\n      }\r\n\r\n      let date_format = '';\r\n      if (date_val.year && date_val.month && date_val.day) {\r\n        date_format = '%d-%02d-%02d'.format(date_val.year.toString(), date_val.month.toString(), date_val.day.toString());\r\n      }\r\n\r\n      let start_date = this.moment(start_format).format('YYYY-MM-DD');\r\n      let end_date = this.moment(end_format).format('YYYY-MM-DD');\r\n      let date = this.moment(date_format).format('YYYY-MM-DD');\r\n      \r\n      \r\n      // let start = this.cloneItem(this.start_date);\r\n      // let end = this.cloneItem(this.end_date);\r\n      // let date_val = this.cloneItem(date_target);\r\n      \r\n      // if(start.month<10) start.month = '0' + start.month;\r\n      // if(start.day<10) start.day = '0' + start.day;\r\n      // if(end.month<10) end.month = '0' + end.month;\r\n      // if(end.day<10) end.day = '0' + end.day;\r\n      // if(date_val.month<10) date_val.month = '0' + date_val.month;\r\n      // if(date_val.day<10) date_val.day = '0' + date_val.day;\r\n      \r\n      // let start_date = this.moment(`${start.year}-${start.month}-${start.day}`).format('YYYY-MM-DD');\r\n      // let end_date = this.moment(`${end.year}-${end.month}-${end.day}`).format('YYYY-MM-DD');\r\n      // let date = this.moment(`${date_val.year}-${date_val.month}-${date_val.day}`).format('YYYY-MM-DD');\r\n      \r\n      \r\n      // prev: 현재날짜 기준 이전날짜, 다음달 날짜\r\n      // enable: times 있을 경우 true\r\n      \r\n        let deco = {\r\n          // borderRadius: '50%',\r\n          color: 'white',\r\n          width: '40px',\r\n          height: '40px',\r\n          lineHeight: '40px',\r\n          // textAlign: 'center'\r\n        };\r\n        // 선택한 날짜 기간에 스타일 추가\r\n        // (date.day>=this.start_date.day && date.month===this.start_date.month && date.year===this.start_date.year) && \r\n        // (date.day<=this.end_date.day && date.month===this.end_date.month && date.year===this.end_date.year)\r\n        \r\n        if(this.moment(start_date).isSameOrBefore(date) && this.moment(date).isSameOrBefore(end_date)) {\r\n          deco.backgroundColor = this.brandBgColor.brand.backgroundColor;\r\n          deco.color = 'white';\r\n          deco.width = '100%';\r\n          // 하루만 선택된 경우\r\n          if (start_date === end_date) {\r\n            deco.width  = '40px';\r\n            deco.borderRadius = '8px';\r\n          }\r\n          // 선택 처음날짜\r\n          else if(start_date === date) {\r\n            deco.borderTopLeftRadius = '8px';\r\n            deco.borderBottomLeftRadius = '8px';\r\n            deco.width = 'calc(40px + ((100% - 40px) / 2))';\r\n          }\r\n          // 선택 마지막날짜\r\n          else if(end_date === date) {\r\n            deco.borderTopRightRadius = '8px';\r\n            deco.borderBottomRightRadius = '8px';\r\n            deco.width = 'calc(40px + ((100% - 40px) / 2))';\r\n          }\r\n\r\n        }\r\n        else {\r\n          deco.color = this.brandColor.main.color;\r\n          // deco.border = '1px solid #dddddd';\r\n          deco.lineHeight = '39px';\r\n          \r\n          if (sun) deco.color = '#f45853';\r\n          else if (sat) deco.color = '#3c93cf';\r\n        }\r\n        // 이전날짜 비활성화 표시\r\n        if(date_val.prev) {\r\n          // deco.border = '1px solid #dddddd';\r\n          deco.color = '#ddd';\r\n          deco.lineHeight = '39px';\r\n          \r\n          if (sun) deco.color = 'rgba(244, 88, 83, 0.3)';\r\n          else if (sat) deco.color = 'rgba(60, 147, 207, 0.3)';\r\n        }\r\n        else if(!date_val.enable) {\r\n          deco.color = '#e4dde4';\r\n        }\r\n\r\n        return deco;\r\n      },\r\n    async setDates() {\r\n      let currentDate = this.currentDate;\r\n      for (let x=0; x<6; x++) {\r\n        this.dates = [];\r\n        let day = 0;\r\n        if(x>0) {\r\n          currentDate = currentDate.add(1, 'month');\r\n        }\r\n        let year = currentDate.year();\r\n        let month = currentDate.month()+1;\r\n        let start_day = currentDate.startOf('month').day();\r\n        let end_date = currentDate.endOf('month').date();\r\n        // console.log('year,month,start_day,end_date',year,month,start_day,end_date);\r\n        // 6주일경우 42, 5주는 35\r\n        let len = 42;\r\n        if(start_day + end_date <= 35) {\r\n          len = 35;\r\n        }\r\n      \r\n        // 이전달 날짜 (prev:true)\r\n        for(let i=start_day-1; i>=0; i--) {\r\n          let old = this.moment(currentDate);\r\n          old.subtract(1, 'month');\r\n          let old_last = old.endOf('month').date();\r\n          \r\n          if(x===0) {\r\n            this.dates.push({\r\n              year: old.year(),\r\n              month: old.month()+1,\r\n              day: old_last - i,\r\n              prev: true,\r\n              uid: this.uuidv4()\r\n            });\r\n          }\r\n          else {\r\n            this.dates.push({\r\n              year: old.year(),\r\n              month: old.month()+1,\r\n              day: '',\r\n              prev: true,\r\n              uid: this.uuidv4()\r\n            });\r\n          }\r\n        }\r\n        \r\n        // 현재달 날짜 (prev: 이전날짜는 prev: true)\r\n        for(let i=0; i< len; i++) {\r\n          // console.log('i, day, start_day, end_date', i, day, start_day, end_date)\r\n          if(i>=start_day && day<end_date) {\r\n            let date = {\r\n              year: year,\r\n              month: month,\r\n              day: ++day,\r\n              enable: true,\r\n              uid: this.uuidv4()\r\n            };\r\n            // console.log('날짜',year, month, day)\r\n            date.prev = this.moment('%d-%02d-%02d'.format(year,month,day+1)).isBefore(this.moment());\r\n            this.dates.push(date);\r\n          }\r\n        }\r\n\r\n        let monthly = `${currentDate.year()}-${currentDate.month()+1}`;\r\n        \r\n        // let url = `public/product/${this.$route.query.id}/schedule/monthly/${monthly}`;\r\n        \r\n        //test\r\n        //url = 'http://localhost:8000/' + url;\r\n        \r\n        // await this.$axios.get(url).then(res => {\r\n        //   res.data.dates.forEach(item => {\r\n        //     let current = this.dates.filter(date_item => {\r\n        //         return date_item.year === item.year &&\r\n        //           date_item.month === item.month &&\r\n        //           date_item.day === item.day;\r\n        //       })[0];\r\n\r\n        //     if(current && item.day>0 && item.remain > 0) {\r\n        //       current.enable = true;\r\n        //     }\r\n            \r\n            // // times가 있을 경우 loop 실행\r\n            // // if(item.day>0 && item.times.length>0) \r\n            // if(item.day>0) {\r\n            //   item.times = item.times.filter(time => {\r\n            //     return !time.break_time\r\n            //   });\r\n\r\n            //   item.times.forEach(item => {\r\n            //     item.selected = false;\r\n            //   });\r\n            //   let date = this.dates.filter(date => {\r\n            //     return date.year === item.year &&\r\n            //       date.month === item.month &&\r\n            //       date.day === item.day;\r\n            //   })[0];\r\n            //   date.enable = true;\r\n            //   date.times = item.times;\r\n            //   // if(date.day===15) {\r\n            //   //   date.enable = false;\r\n            //   // }\r\n            //}\r\n            \r\n        //   });\r\n        // });\r\n        \r\n        this.calendar.push({\"year\": year, \"month\": month, \"dates\": this.dates})\r\n        if(x===5) this.visible = true;\r\n      }\r\n    },\r\n    calcPeriod(start_date, end_date) {\r\n      if(!start_date) {\r\n        return 0;\r\n      }\r\n      let resv_date = this.dateFormat(this.dateToStr(start_date), 'date_4');\r\n      let resv_end_date = this.dateFormat(this.dateToStr(end_date), 'date_4');\r\n      return this.moment(resv_end_date).diff(this.moment(resv_date), 'days') + 1;\r\n    },\r\n    \r\n  },\r\n  computed: {\r\n    isIOS() {\r\n      if (navigator.userAgent.match(/iPhone/i) || navigator.userAgent.match(/iPad/i) || navigator.userAgent.match(/iPod/i)) { // ios13 이전 iPhone, iPad, iPod\r\n        return true;\r\n      } else if (navigator.platform === 'MacIntel' && navigator.maxTouchPoints > 1) { // iPad (ios13 버전 이상)\r\n        return true;\r\n      } else {\r\n        return false;\r\n      }\r\n    },\r\n    iconStyle() {\r\n      if (this.iconCustomStyle) return this.iconCustomStyle;\r\n      else return {\r\n        color: this.brandColor.sub.color\r\n      };\r\n    },\r\n    minPeriodDate() {\r\n      let date = this.minimum;\r\n      return date>1 ? `${date-1}박 ${date}일` : `무박 ${date}일`;\r\n      //return date>1 ? `${date-1}박` : `무박`;\r\n    },\r\n    selectedDate() {\r\n      let start_date = this.formattedDate(this.start_date);\r\n      let end_date = this.formattedDate(this.end_date);\r\n      \r\n      if(start_date===end_date) {\r\n        return start_date;\r\n      }\r\n      else {\r\n        return `${start_date} - ${end_date}`;\r\n      }\r\n    },\r\n    period() {\r\n      let resv_date = this.dateFormat(this.dateToStr(this.start_date), 'date_4');\r\n      let resv_end_date = this.dateFormat(this.dateToStr(this.end_date), 'date_4');\r\n      return {\r\n        period: true,\r\n        resv_date: resv_date,\r\n        resv_end_date: resv_end_date,\r\n        start_date_label: `${this.start_date.month}/${this.start_date.day}`,\r\n        end_date_label: `${this.end_date.month}/${this.end_date.day}`,\r\n        days: this.moment(resv_end_date).diff(this.moment(resv_date), 'days')\r\n      }\r\n    },\r\n    btnEnable() {\r\n      return (this.period.days+1) >= this.minimum;\r\n    },\r\n    btnColor() {\r\n      if(this.btnEnable) {\r\n        return {\r\n          color: this.brandColor.white,\r\n          bg: this.brandBgColor.brand\r\n        }\r\n      } else {\r\n        return {\r\n          color: this.brandColor.white,\r\n          bg: this.brandBgColor.help\r\n        }\r\n      }\r\n    },\r\n    customStyle() {\r\n        return {\r\n          borderRadius: '8px'\r\n        }\r\n      },\r\n    wrapScroll() {\r\n      return {\r\n        overflowY: 'auto',\r\n        height: 'calc(100% - 60px)',\r\n        // backgroundColor: this.brandBgColor.main.backgroundColor\r\n      }\r\n    },\r\n  },\r\n  watch: {\r\n    \r\n  }\r\n}\r\n</script>\r\n<style scoped>\r\n.lp-month {\r\n  font-size: 15px;\r\n  margin: 0 12px;\r\n}\r\n.lp-days {\r\n  padding: 13px 20px;\r\n  /* border-top: 1px solid #ddd; */\r\n  border-bottom: 1px solid #ddd;\r\n  margin-bottom: 12px;\r\n  /* position: fixed; */\r\n  top: 50px;\r\n  left: 0;\r\n  right: 0;\r\n  z-index: 1;\r\n  background-color: rgba(255,255,255,0.7);\r\n}\r\n.lp-day {\r\n  width: 14.2857%;\r\n  text-align: center;\r\n}\r\n.lp-day-sun {\r\n  color: #f45853;\r\n}\r\n.lp-day-sat {\r\n  color: #3c93cf;\r\n}\r\n.lp-dates {\r\n  margin-bottom: 20px;\r\n}\r\n.lp-date {\r\n  width: 14.2857%;\r\n  height: 14.2857%;\r\n  display: flex;\r\n  justify-content: center;\r\n  margin: 8px 0;\r\n}\r\n.icon-arrow {\r\n  color: #fff;\r\n  background-color: #777;\r\n  border-radius: 50%;\r\n  font-size: 18px;\r\n}\r\n.box-resv {\r\n  padding: 12px 0;\r\n  border-top: 1px solid #ddd;\r\n}\r\n\r\n.date-number {\r\n  height: 100%;\r\n  width: 20px;\r\n  text-align: center;\r\n  top: 0;\r\n  left: calc(50% - 10px);\r\n}\r\n\r\n.fixed-bottom-ie {\r\n  transform: translateX(-50%) translateY(-60%) !important;\r\n  max-width: 33% !important;\r\n}\r\n.fixed-bottom-ie-content {\r\n  margin: 0 44px;\r\n}\r\n.fixed-bottom-ios {\r\n  position: absolute !important;\r\n}\r\n</style>\r\n\r\n"]}]}