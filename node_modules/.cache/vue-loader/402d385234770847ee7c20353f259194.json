{"remainingRequest":"/Users/mard/dev/grit12/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mard/dev/grit12/src/components/Components/Block/BlockProductDetailCardPc.vue?vue&type=style&index=0&id=3a8c9ab1&scoped=true&lang=css&","dependencies":[{"path":"/Users/mard/dev/grit12/src/components/Components/Block/BlockProductDetailCardPc.vue","mtime":1605260015000},{"path":"/Users/mard/dev/grit12/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/Users/mard/dev/grit12/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/mard/dev/grit12/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/mard/dev/grit12/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mard/dev/grit12/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nhtml {\n  scroll-behavior: smooth;\n}\n",{"version":3,"sources":["BlockProductDetailCardPc.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwPA;AACA;AACA","file":"BlockProductDetailCardPc.vue","sourceRoot":"src/components/Components/Block","sourcesContent":["<template>\n<div class=\"flex-justify\" style=\"min-height: 50vh\"\n  >\n  <div v-if=\"product\" :style=\"pcMaxWidth\">\n    <!--<div ref=\"cardHeight\" style=\"min-height: 112px;\">-->\n    <!--  <transition name=\"fade\">-->\n        <!--<bread-crumb-pc :breadcrumb=\"breadcrumb\" v-if=\"breadcrumb\"></bread-crumb-pc>-->\n    <!--  </transition>-->\n    <!--</div>-->\n    \n    <div :style=\"wrapStyle\" class=\"flex-align\">\n      <div class=\"col-6\">\n        <!--<img :src=\"product.img\" :style=\"imgStyle\">-->\n        <div style=\"margin-right: 16px\" class=\"full-width\">\n          <!--<div v-lazy:background-image=\"product.img\" class=\"lazy-background-image\" :style=\"imgStyle\"></div>-->\n          <img v-if=\"product.imgs.length === 0\" :src=\"product.img\" :style=\"imageStyle\">\n          <block-product-detail-images v-else :imgs=\"product.imgs\"></block-product-detail-images>\n        </div>\n        \n      </div>\n      \n      <div class=\"col-6\">\n        <!--상품 정보-->\n        <div style=\"padding-left:80px\" :style=\"brandColor.white\">\n          <div class=\"size-28 margin-bottom-30 bold\">{{ product.name }}</div>\n          \n          <div class=\"flex-align margin-bottom-20\">\n            <div class=\"size-17 col-3\" style=\"color:#CCCCCC\">판매가</div>\n            <div class=\"size-20 bold\" :style=\"brandColor.white\">{{product.price.sale_price | currency}}</div>\n          </div>       \n          \n          <div class=\"flex-align\" style=\"margin-bottom:60px\" v-if=\"constructor\">\n            <div class=\"size-17 col-3\" style=\"color:#CCCCCC\">제조사</div>\n            <div class=\"size-15\" style=\"color:#CCCCCC\">{{constructor}}</div>\n          </div>          \n          \n          <btn-pc styles=\"primary\" style=\"cursor:default\" @onClick=\"$refs.callModal.open()\"\n            width=\"100%\">구매 문의</btn-pc>\n          <!--<icon-circle-like likeType=\"product\" color=\"main\"></icon-circle-like>-->\n        </div>\n      </div>\n\n      \n      <!-- 전화연결 팝업 -->\n      <sweet-modal ref=\"callModal\" overlay-theme=\"dark\">\n        <modal @confirm=\"clickCall\" @cancel=\"$refs.callModal.close()\">\n          <div slot=\"header\">전화연결</div>\n          <div slot=\"content\">연결 버튼을 누르시면 전화연결이 진행됩니다. 진행하시겠습니까?</div>\n        </modal>\n      </sweet-modal>\n    </div>\n  </div>\n</div>\n</template>\n<script>\nimport BtnPc from \"@/components/Components/Button/BtnPc\"\nimport BreadCrumbPc from \"@/components/Components/Common/BreadCrumbPc\"\nimport BlockProductDetailImages from \"@/components/Components/Block/BlockProductDetailImages\"\nimport BlockMixin from \"@/components/Mixins/BlockMixin\"\n\nexport default {\n  name: 'BlockProductDetailCardPc',\n  components: {\n    BtnPc,\n    BreadCrumbPc,\n    BlockProductDetailImages\n  },\n  mixins: [\n    BlockMixin\n  ],\n  props: {\n\n  },\n  data() {\n    return {\n      \"product\": undefined,\n      \"breadcrumb\": [],\n      \"fixedState\": true,\n      \"imageStyle\": {\n        \"width\": \"100%\",\n        \"height\": \"460px\",\n        \"objectFit\": \"cover\"\n      },\n      \"constructor\": \"\",\n      \"layoutWidth\": undefined\n    }\n  },\n  created() {\n    this.getMaxWidth();\n    this.getData();\n    // this.detectClientHeight();\n\n  },\n  mounted() {\n    // this.$nextTick(() => {\n    //   window.addEventListener('scroll', this.detectClientHeight);\n    // });\n  },\n  updated() {\n    this.detectClientHeight();\n  },\n  \n  methods: {\n    getMaxWidth() {\n      this.$axios.get('public/ui/brand/admin').then(res => {\n        this.layoutWidth = res.data.layout_maxwidth;\n      })\n    },\n    getData() {\n      this.$axios.get(`/user/${this.user.user_id}/mapping/product/${this.$route.query.id}?fields=id,img,name,simple_desc,tags,form,order_conversion_type,category1,category2,category3,rate,stock,input,like_count,reviews_count,visit,price,partner,address,dong,distance,params,imgs,info,operating_time,phone,params,location`)\n      .then(res => {\n          this.product = res.data;\n          this.product_params = this.cloneItem(this.product.params);\n          this.setBreadCrumb();\n          \n          if(this.product.params&&this.product.params.length>0) {\n            this.product.params.forEach(item => {\n              if(item.param_id===7&&item.value) {\n                this.constructor = item.value;\n              }\n            })\n          }\n        });\n      },\n    detectClientHeight() {\n      this.$nextTick(function() {\n        if(this.$refs.cardHeight) {\n          if (document.documentElement.scrollTop > this.$refs.cardHeight.clientHeight) {\n            this.fixedState = true;\n            this.$emit('fixedState', true);\n          }\n          else {\n            this.fixedState = false;\n            this.$emit('fixedState', false);\n          }\n        }\n      })\n    },\n    clickCall() {\n      let user_id = this.$store.getters.user.user_id;\n        let url = `user/${user_id}/product/${this.$route.query.id}/call`;\n        this.$axios.get(url).then(res=>{\n          location.href = `tel:${res.data.call}`;\n          this.$refs.callModal.close();\n        })\n    },\n    setBreadCrumb() {\n      this.breadcrumb.push({\n        \"link\": \"home\",\n        \"name\": \"홈\"\n      });\n      \n      for(let i=0;i<this.categories.length;i++) {\n        this.categories[i].link = `product?tab=${this.categories[i].id}`\n        \n        if(this.product&&this.product.category1 === this.categories[i].id) {\n          this.breadcrumb.push({\n            name: this.categories[i].name,\n            link: this.categories[i].link,\n            list: this.categories\n          })\n        }\n      }\n      \n      this.breadcrumb.push({\n        link: `product_detail?id=${this.product.id}`,\n        name: this.product.name\n      })\n      \n      // let catList = [];\n      // this.category.forEach(cat => {\n      //   let search = this.$route.query.search ? this.$$route.query.search : '';\n      //   cat.link = `product?tab=${cat.id}&search=${search}`\n      //   catList.push(cat);\n      // })\n      // let currentBread;\n      // if (this.$route.query.tab===undefined || this.$route.query.tab==='') currentBread = catList[0];\n      // else currentBread = find(catList, 'id', parseInt(this.$route.query.tab));\n      \n      // this.breadcrumb.push({\n      //   name: currentBread.name,\n      //   link: currentBread.link,\n      //   list: catList\n      // })\n      \n      \n    },\n    clickUp() {\n      window.scrollTo({\n        left: 0,\n        top: 0,\n        behavior: 'smooth'\n      })\n    },\n    clickDown() {\n      document.documentElement.scrollTop = document.body.scrollHeight;\n    }\n  },\n  computed: {\n    wrapStyle() {\n      return {\n        padding: '32px 0',\n        borderBottom: `2px solid ${this.getColor('보조 테두리선 색상')}`\n      }\n    },\n    productImgWidth() {\n      return parseInt(this.pcMaxWidth.width, 10) * 66/100;\n    },\n    imgStyle() {\n      return {\n        width: '100%',\n        objectFit: 'cover'\n      }\n    },\n    partnerImg() {\n      return {\n        width: '48px',\n        height: '48px',\n        backgroundSize: 'cover',\n        backgroundRepeat: 'no-repeat',\n        backgroundPosition: 'center',\n        backgroundImage: `url(\"${this.product.partner.img}\")`,\n        borderRadius: '50%'\n      }\n    },\n    categories() {\n      return this.$store.getters.category;\n    },\n    iconWrapStyle() {\n      return {\n        width: '32px',\n        height: '32px',\n        backgroundColor: 'white',\n        borderRadius: '4px',\n        boxShadow: '0 2px 8px 0 rgba(0,0,0,0.1)'\n      }\n    }\n  },\n  watch: {\n    $route(n, o) {\n      if(n.path === o.path) {\n        this.getData();\n      }\n    }\n  }\n}\n</script>\n<style scoped>\nhtml {\n  scroll-behavior: smooth;\n}\n</style>\n\n"]}]}