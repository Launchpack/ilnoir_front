{"remainingRequest":"/Users/mard/dev/ilnoir/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mard/dev/ilnoir/src/components/Components/Form/CInputTime.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mard/dev/ilnoir/src/components/Components/Form/CInputTime.vue","mtime":1605259989000},{"path":"/Users/mard/dev/ilnoir/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mard/dev/ilnoir/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/mard/dev/ilnoir/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mard/dev/ilnoir/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport moment from 'moment'\nimport { directive as onClickaway } from 'vue-clickaway'\nimport FormMixin from '@/components/Mixins/FormMixin'\n\nexport default {\n  props: {\n    timePickerIcon: {\n      type: Object,\n      required: false\n    }\n  },\n  mixins: [\n    FormMixin\n  ],\n\n  directives: {\n    onClickaway: onClickaway\n  },\n\n  data() {\n    return {\n      hour: 0,\n      minute: 0,\n      period: 'am',\n      pickerOpened: false,\n      using24: true,\n      minuteStep: 5,\n    };\n  },\n\n  created() {\n    this.initValue;\n    this.clickDone;\n  },\n\n  computed: {\n    time() {\n      if (this.using24) {\n        return '%02d:%02d'\n          .format(this.hour, this.minute);\n      } else {\n        let time = moment(\n          this.hour + ':' + this.minute, 'H:m');\n        return time.format('A hh:mm');\n      }\n    },\n\n    hourOptions() {\n      if (this.using24) {\n        return [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12,\n          13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23];\n      } else {\n        return [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12,\n          1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12];\n      }\n    },\n\n    minuteOptions() {\n      let opts = [];\n      for (let i = 0; i < 60; i += this.minuteStep) {\n        opts.push(i);\n      }\n      opts = opts.concat(opts);\n\n      return opts;\n    },\n\n    periodOptions() {\n      if (!this.using24) {\n        return [\n          {\n            value: 'am',\n            label: '오전'\n          },\n          {\n            value: 'pm',\n            label: '오후'\n          }\n        ]\n      } else {\n        return [];\n      }\n    }\n  },\n\n  watch: {\n    time(n) {\n      this.$emit('update:value', n);\n    },\n    value(n) {\n      this.initValue;\n      this.clickDone;\n      this.$emit('update:value', n);\n    }\n  },\n\n  methods: {\n    initValue() {\n      if (this.value) {\n        this.hour = this.value.split(':')[0];\n        this.minute = this.value.split(':')[1];\n      }\n    },\n\n    openPicker() {\n      if (this.disabled) return;\n      this.pickerOpened = true;\n      this.setPicker();\n    },\n\n    setPicker() {\n      this.$nextTick(() => {\n        $('#time-ampm').drum({\n          onChange: e => {\n            this.period = e.value;\n          },\n        });\n        $('#time-hour').drum({\n          onChange: e => {\n            this.hour = parseInt(e.value);\n          }\n        });\n        $('#time-min').drum({\n          onChange: e => {\n            this.minute = parseInt(e.value);\n          }\n        });\n\n        let ampmIdx = 0;\n        if(this.period === 'pm') ampmIdx = 1;\n        $('#time-ampm').drum('setIndex', ampmIdx);\n\n\n        $('#time-hour').drum('setIndex', this.hour);\n        $('#time-min').drum('setIndex', this.minuteOptions.indexOf(this.minute));\n      });\n    },\n\n    closePicker() {\n      this.pickerOpened = false;\n    },\n\n    clickCancel() {\n      this.closePicker();\n    },\n\n    clickDone() {\n      if (this.using24) {\n        this.hour = this.hour;\n        this.minute = this.minute;\n      } else {\n        let time24 = this.$_to24Format(this.period, this.hour, this.minute);\n        this.hour = time24.hour;\n        this.minute = time24.minute;\n      }\n      this.closePicker();\n    },\n\n    $_to24Format(period, hour, minute) {\n      let timeString = period + ' ' + hour + ':' + minute;\n      let t = moment(timeString, 'a h:m');\n      return {\n        hour: t.hour(),\n        minute: t.minute()\n      };\n    }\n  }\n}\n",{"version":3,"sources":["CInputTime.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6EA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CInputTime.vue","sourceRoot":"src/components/Components/Form","sourcesContent":["<template>\r\n  <div :style=\"containerStyle\">\r\n\r\n    <!-- 레이블 -->\r\n    <div v-if=\"formType.label && label\" :style=\"labelStyle\">{{ label }}</div>\r\n\r\n    <div class=\"c-time-content\"\r\n         style=\"display: flex; align-items: center;\"\r\n         @click.stop.prevent=\"openPicker\">\r\n      <div class=\"c-date-content-date\"\r\n           :style=\"inputStyle\"\r\n           :class=\"{ 'disabled-text' : disabled}\">\r\n           {{ value === \"\" ? placeholder : value }}\r\n          <i v-if=\"timePickerIcon\" :style=\"timePickerIcon.style\" :class=\"timePickerIcon.className\">{{ timePickerIcon.iconName }}</i>\r\n           </div>\r\n    </div>\r\n\r\n    <transition name=\"fade\">\r\n      <div v-show=\"pickerOpened\"\r\n           class=\"c-time-picker-bg\"\r\n           @click=\"closePicker\">\r\n        <div @click.stop.prevent=\"\">\r\n          <transition name=\"drawer\">\r\n            <div class=\"c-time-picker\"\r\n                 v-if=\"pickerOpened\">\r\n\r\n              <!-- AM/PM  -->\r\n              <div class=\"c-time-picker-period\"\r\n              >\r\n                <div class=\"lp-other-line\"></div>\r\n\r\n                <select\r\n                    v-if=\"!using24\"\r\n                    id=\"time-ampm\">\r\n                  <option v-for=\"(period, idx) in periodOptions\" :key=\"idx\"\r\n                          style=\"width:100px\"\r\n                          :value=\"period.value\">{{ period.label }}</option>\r\n                </select>\r\n\r\n                <!-- 시  -->\r\n                <select\r\n                    id=\"time-hour\">\r\n                  <option v-for=\"(hour, idx) in hourOptions\" :key=\"idx\"\r\n                          :value=\"hour\">{{ hour }}</option>\r\n                </select>\r\n\r\n                <!-- 분  -->\r\n                <select\r\n                    id=\"time-min\">\r\n                  <option v-for=\"(minute, idx) in minuteOptions\" :key=\"idx\"\r\n                          :value=\"minute\">{{ minute }}</option>\r\n                </select>\r\n              </div>\r\n\r\n\r\n              <div class=\"btns\">\r\n                <!-- 취소  -->\r\n                <div class=\"c-time-picker-cancel\"\r\n                     @click.stop.prevent=\"clickCancel\">\r\n                  취소\r\n                </div>\r\n                <!-- 확인  -->\r\n                <div class=\"c-time-picker-done\"\r\n                     @click.stop.prevent=\"clickDone\">\r\n                  확인\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </transition>\r\n        </div>\r\n      </div>\r\n    </transition>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import moment from 'moment'\r\n  import { directive as onClickaway } from 'vue-clickaway'\r\n  import FormMixin from '@/components/Mixins/FormMixin'\r\n\r\n  export default {\r\n    props: {\r\n      timePickerIcon: {\r\n        type: Object,\r\n        required: false\r\n      }\r\n    },\r\n    mixins: [\r\n      FormMixin\r\n    ],\r\n\r\n    directives: {\r\n      onClickaway: onClickaway\r\n    },\r\n\r\n    data() {\r\n      return {\r\n        hour: 0,\r\n        minute: 0,\r\n        period: 'am',\r\n        pickerOpened: false,\r\n        using24: true,\r\n        minuteStep: 5,\r\n      };\r\n    },\r\n\r\n    created() {\r\n      this.initValue;\r\n      this.clickDone;\r\n    },\r\n\r\n    computed: {\r\n      time() {\r\n        if (this.using24) {\r\n          return '%02d:%02d'\r\n            .format(this.hour, this.minute);\r\n        } else {\r\n          let time = moment(\r\n            this.hour + ':' + this.minute, 'H:m');\r\n          return time.format('A hh:mm');\r\n        }\r\n      },\r\n\r\n      hourOptions() {\r\n        if (this.using24) {\r\n          return [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12,\r\n            13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23];\r\n        } else {\r\n          return [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12,\r\n            1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12];\r\n        }\r\n      },\r\n\r\n      minuteOptions() {\r\n        let opts = [];\r\n        for (let i = 0; i < 60; i += this.minuteStep) {\r\n          opts.push(i);\r\n        }\r\n        opts = opts.concat(opts);\r\n\r\n        return opts;\r\n      },\r\n\r\n      periodOptions() {\r\n        if (!this.using24) {\r\n          return [\r\n            {\r\n              value: 'am',\r\n              label: '오전'\r\n            },\r\n            {\r\n              value: 'pm',\r\n              label: '오후'\r\n            }\r\n          ]\r\n        } else {\r\n          return [];\r\n        }\r\n      }\r\n    },\r\n\r\n    watch: {\r\n      time(n) {\r\n        this.$emit('update:value', n);\r\n      },\r\n      value(n) {\r\n        this.initValue;\r\n        this.clickDone;\r\n        this.$emit('update:value', n);\r\n      }\r\n    },\r\n\r\n    methods: {\r\n      initValue() {\r\n        if (this.value) {\r\n          this.hour = this.value.split(':')[0];\r\n          this.minute = this.value.split(':')[1];\r\n        }\r\n      },\r\n\r\n      openPicker() {\r\n        if (this.disabled) return;\r\n        this.pickerOpened = true;\r\n        this.setPicker();\r\n      },\r\n\r\n      setPicker() {\r\n        this.$nextTick(() => {\r\n          $('#time-ampm').drum({\r\n            onChange: e => {\r\n              this.period = e.value;\r\n            },\r\n          });\r\n          $('#time-hour').drum({\r\n            onChange: e => {\r\n              this.hour = parseInt(e.value);\r\n            }\r\n          });\r\n          $('#time-min').drum({\r\n            onChange: e => {\r\n              this.minute = parseInt(e.value);\r\n            }\r\n          });\r\n\r\n          let ampmIdx = 0;\r\n          if(this.period === 'pm') ampmIdx = 1;\r\n          $('#time-ampm').drum('setIndex', ampmIdx);\r\n\r\n\r\n          $('#time-hour').drum('setIndex', this.hour);\r\n          $('#time-min').drum('setIndex', this.minuteOptions.indexOf(this.minute));\r\n        });\r\n      },\r\n\r\n      closePicker() {\r\n        this.pickerOpened = false;\r\n      },\r\n\r\n      clickCancel() {\r\n        this.closePicker();\r\n      },\r\n\r\n      clickDone() {\r\n        if (this.using24) {\r\n          this.hour = this.hour;\r\n          this.minute = this.minute;\r\n        } else {\r\n          let time24 = this.$_to24Format(this.period, this.hour, this.minute);\r\n          this.hour = time24.hour;\r\n          this.minute = time24.minute;\r\n        }\r\n        this.closePicker();\r\n      },\r\n\r\n      $_to24Format(period, hour, minute) {\r\n        let timeString = period + ' ' + hour + ':' + minute;\r\n        let t = moment(timeString, 'a h:m');\r\n        return {\r\n          hour: t.hour(),\r\n          minute: t.minute()\r\n        };\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"stylus\" type=\"stylus\" scoped>\r\n  .c-time-content\r\n    display flex\r\n\r\n  .c-time-picker-bg\r\n    position fixed\r\n    top 0\r\n    right 0\r\n    bottom 0\r\n    left 0\r\n    background-color rgba(0, 0, 0, 0.3)\r\n    z-index 10\r\n\r\n  .c-time-picker\r\n    width 360px\r\n    position fixed\r\n    left 50%\r\n    bottom 0\r\n    transform translateX(-50%)\r\n    border 1px solid #ddd\r\n    box-shadow 0px 3px 4px 2px #00000029\r\n    z-index 10\r\n    background-color white\r\n    padding-top 32px\r\n\r\n  .c-time-picker-period\r\n    display flex\r\n    justify-content space-between\r\n    width 100%\r\n    margin 20px auto\r\n    position relative\r\n    padding 0 52px\r\n\r\n  .fade-enter-active\r\n    transition all .3s\r\n\r\n  .fade-leave-active\r\n    transition all 3s reverse\r\n\r\n  .fade-enter, .fade-leave\r\n    opacity 0\r\n\r\n  .drawer-enter-active\r\n    transition all .3s\r\n\r\n  .drawer-leave-active\r\n    transition all .3s reverse\r\n\r\n  .drawer-enter, .drawer-leave\r\n    bottom -300px\r\n\r\n  .btns\r\n    display flex\r\n    padding 20px\r\n    justify-content flex-end\r\n\r\n  .c-time-picker-cancel\r\n  .c-time-picker-ok\r\n    padding 0 4px\r\n\r\n  .c-time-picker-cancel\r\n    margin-right 12px\r\n    color #787878\r\n\r\n  .lp-other-line\r\n    position absolute\r\n    top 46px\r\n    left 0\r\n    width 100%\r\n    height 28px\r\n    border-top 1px solid #ddd\r\n    border-bottom 1px solid #ddd\r\n\r\n  .disabled-text\r\n    color #bbb\r\n</style>\r\n"]}]}