{"remainingRequest":"/Users/mard/dev/grit12/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mard/dev/grit12/src/components/Components/Form/CInputTime.vue?vue&type=style&index=0&id=a71d2e14&lang=stylus&scoped=true&","dependencies":[{"path":"/Users/mard/dev/grit12/src/components/Components/Form/CInputTime.vue","mtime":1605259989000},{"path":"/Users/mard/dev/grit12/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/Users/mard/dev/grit12/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/mard/dev/grit12/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/mard/dev/grit12/node_modules/stylus-loader/index.js","mtime":1519606876000},{"path":"/Users/mard/dev/grit12/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mard/dev/grit12/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.c-time-content\n  display flex\n\n.c-time-picker-bg\n  position fixed\n  top 0\n  right 0\n  bottom 0\n  left 0\n  background-color rgba(0, 0, 0, 0.3)\n  z-index 10\n\n.c-time-picker\n  width 360px\n  position fixed\n  left 50%\n  bottom 0\n  transform translateX(-50%)\n  border 1px solid #ddd\n  box-shadow 0px 3px 4px 2px #00000029\n  z-index 10\n  background-color white\n  padding-top 32px\n\n.c-time-picker-period\n  display flex\n  justify-content space-between\n  width 100%\n  margin 20px auto\n  position relative\n  padding 0 52px\n\n.fade-enter-active\n  transition all .3s\n\n.fade-leave-active\n  transition all 3s reverse\n\n.fade-enter, .fade-leave\n  opacity 0\n\n.drawer-enter-active\n  transition all .3s\n\n.drawer-leave-active\n  transition all .3s reverse\n\n.drawer-enter, .drawer-leave\n  bottom -300px\n\n.btns\n  display flex\n  padding 20px\n  justify-content flex-end\n\n.c-time-picker-cancel\n.c-time-picker-ok\n  padding 0 4px\n\n.c-time-picker-cancel\n  margin-right 12px\n  color #787878\n\n.lp-other-line\n  position absolute\n  top 46px\n  left 0\n  width 100%\n  height 28px\n  border-top 1px solid #ddd\n  border-bottom 1px solid #ddd\n\n.disabled-text\n  color #bbb\n",{"version":3,"sources":["CInputTime.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwPA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"CInputTime.vue","sourceRoot":"src/components/Components/Form","sourcesContent":["<template>\r\n  <div :style=\"containerStyle\">\r\n\r\n    <!-- 레이블 -->\r\n    <div v-if=\"formType.label && label\" :style=\"labelStyle\">{{ label }}</div>\r\n\r\n    <div class=\"c-time-content\"\r\n         style=\"display: flex; align-items: center;\"\r\n         @click.stop.prevent=\"openPicker\">\r\n      <div class=\"c-date-content-date\"\r\n           :style=\"inputStyle\"\r\n           :class=\"{ 'disabled-text' : disabled}\">\r\n           {{ value === \"\" ? placeholder : value }}\r\n          <i v-if=\"timePickerIcon\" :style=\"timePickerIcon.style\" :class=\"timePickerIcon.className\">{{ timePickerIcon.iconName }}</i>\r\n           </div>\r\n    </div>\r\n\r\n    <transition name=\"fade\">\r\n      <div v-show=\"pickerOpened\"\r\n           class=\"c-time-picker-bg\"\r\n           @click=\"closePicker\">\r\n        <div @click.stop.prevent=\"\">\r\n          <transition name=\"drawer\">\r\n            <div class=\"c-time-picker\"\r\n                 v-if=\"pickerOpened\">\r\n\r\n              <!-- AM/PM  -->\r\n              <div class=\"c-time-picker-period\"\r\n              >\r\n                <div class=\"lp-other-line\"></div>\r\n\r\n                <select\r\n                    v-if=\"!using24\"\r\n                    id=\"time-ampm\">\r\n                  <option v-for=\"(period, idx) in periodOptions\" :key=\"idx\"\r\n                          style=\"width:100px\"\r\n                          :value=\"period.value\">{{ period.label }}</option>\r\n                </select>\r\n\r\n                <!-- 시  -->\r\n                <select\r\n                    id=\"time-hour\">\r\n                  <option v-for=\"(hour, idx) in hourOptions\" :key=\"idx\"\r\n                          :value=\"hour\">{{ hour }}</option>\r\n                </select>\r\n\r\n                <!-- 분  -->\r\n                <select\r\n                    id=\"time-min\">\r\n                  <option v-for=\"(minute, idx) in minuteOptions\" :key=\"idx\"\r\n                          :value=\"minute\">{{ minute }}</option>\r\n                </select>\r\n              </div>\r\n\r\n\r\n              <div class=\"btns\">\r\n                <!-- 취소  -->\r\n                <div class=\"c-time-picker-cancel\"\r\n                     @click.stop.prevent=\"clickCancel\">\r\n                  취소\r\n                </div>\r\n                <!-- 확인  -->\r\n                <div class=\"c-time-picker-done\"\r\n                     @click.stop.prevent=\"clickDone\">\r\n                  확인\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </transition>\r\n        </div>\r\n      </div>\r\n    </transition>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import moment from 'moment'\r\n  import { directive as onClickaway } from 'vue-clickaway'\r\n  import FormMixin from '@/components/Mixins/FormMixin'\r\n\r\n  export default {\r\n    props: {\r\n      timePickerIcon: {\r\n        type: Object,\r\n        required: false\r\n      }\r\n    },\r\n    mixins: [\r\n      FormMixin\r\n    ],\r\n\r\n    directives: {\r\n      onClickaway: onClickaway\r\n    },\r\n\r\n    data() {\r\n      return {\r\n        hour: 0,\r\n        minute: 0,\r\n        period: 'am',\r\n        pickerOpened: false,\r\n        using24: true,\r\n        minuteStep: 5,\r\n      };\r\n    },\r\n\r\n    created() {\r\n      this.initValue;\r\n      this.clickDone;\r\n    },\r\n\r\n    computed: {\r\n      time() {\r\n        if (this.using24) {\r\n          return '%02d:%02d'\r\n            .format(this.hour, this.minute);\r\n        } else {\r\n          let time = moment(\r\n            this.hour + ':' + this.minute, 'H:m');\r\n          return time.format('A hh:mm');\r\n        }\r\n      },\r\n\r\n      hourOptions() {\r\n        if (this.using24) {\r\n          return [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12,\r\n            13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23];\r\n        } else {\r\n          return [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12,\r\n            1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12];\r\n        }\r\n      },\r\n\r\n      minuteOptions() {\r\n        let opts = [];\r\n        for (let i = 0; i < 60; i += this.minuteStep) {\r\n          opts.push(i);\r\n        }\r\n        opts = opts.concat(opts);\r\n\r\n        return opts;\r\n      },\r\n\r\n      periodOptions() {\r\n        if (!this.using24) {\r\n          return [\r\n            {\r\n              value: 'am',\r\n              label: '오전'\r\n            },\r\n            {\r\n              value: 'pm',\r\n              label: '오후'\r\n            }\r\n          ]\r\n        } else {\r\n          return [];\r\n        }\r\n      }\r\n    },\r\n\r\n    watch: {\r\n      time(n) {\r\n        this.$emit('update:value', n);\r\n      },\r\n      value(n) {\r\n        this.initValue;\r\n        this.clickDone;\r\n        this.$emit('update:value', n);\r\n      }\r\n    },\r\n\r\n    methods: {\r\n      initValue() {\r\n        if (this.value) {\r\n          this.hour = this.value.split(':')[0];\r\n          this.minute = this.value.split(':')[1];\r\n        }\r\n      },\r\n\r\n      openPicker() {\r\n        if (this.disabled) return;\r\n        this.pickerOpened = true;\r\n        this.setPicker();\r\n      },\r\n\r\n      setPicker() {\r\n        this.$nextTick(() => {\r\n          $('#time-ampm').drum({\r\n            onChange: e => {\r\n              this.period = e.value;\r\n            },\r\n          });\r\n          $('#time-hour').drum({\r\n            onChange: e => {\r\n              this.hour = parseInt(e.value);\r\n            }\r\n          });\r\n          $('#time-min').drum({\r\n            onChange: e => {\r\n              this.minute = parseInt(e.value);\r\n            }\r\n          });\r\n\r\n          let ampmIdx = 0;\r\n          if(this.period === 'pm') ampmIdx = 1;\r\n          $('#time-ampm').drum('setIndex', ampmIdx);\r\n\r\n\r\n          $('#time-hour').drum('setIndex', this.hour);\r\n          $('#time-min').drum('setIndex', this.minuteOptions.indexOf(this.minute));\r\n        });\r\n      },\r\n\r\n      closePicker() {\r\n        this.pickerOpened = false;\r\n      },\r\n\r\n      clickCancel() {\r\n        this.closePicker();\r\n      },\r\n\r\n      clickDone() {\r\n        if (this.using24) {\r\n          this.hour = this.hour;\r\n          this.minute = this.minute;\r\n        } else {\r\n          let time24 = this.$_to24Format(this.period, this.hour, this.minute);\r\n          this.hour = time24.hour;\r\n          this.minute = time24.minute;\r\n        }\r\n        this.closePicker();\r\n      },\r\n\r\n      $_to24Format(period, hour, minute) {\r\n        let timeString = period + ' ' + hour + ':' + minute;\r\n        let t = moment(timeString, 'a h:m');\r\n        return {\r\n          hour: t.hour(),\r\n          minute: t.minute()\r\n        };\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"stylus\" type=\"stylus\" scoped>\r\n  .c-time-content\r\n    display flex\r\n\r\n  .c-time-picker-bg\r\n    position fixed\r\n    top 0\r\n    right 0\r\n    bottom 0\r\n    left 0\r\n    background-color rgba(0, 0, 0, 0.3)\r\n    z-index 10\r\n\r\n  .c-time-picker\r\n    width 360px\r\n    position fixed\r\n    left 50%\r\n    bottom 0\r\n    transform translateX(-50%)\r\n    border 1px solid #ddd\r\n    box-shadow 0px 3px 4px 2px #00000029\r\n    z-index 10\r\n    background-color white\r\n    padding-top 32px\r\n\r\n  .c-time-picker-period\r\n    display flex\r\n    justify-content space-between\r\n    width 100%\r\n    margin 20px auto\r\n    position relative\r\n    padding 0 52px\r\n\r\n  .fade-enter-active\r\n    transition all .3s\r\n\r\n  .fade-leave-active\r\n    transition all 3s reverse\r\n\r\n  .fade-enter, .fade-leave\r\n    opacity 0\r\n\r\n  .drawer-enter-active\r\n    transition all .3s\r\n\r\n  .drawer-leave-active\r\n    transition all .3s reverse\r\n\r\n  .drawer-enter, .drawer-leave\r\n    bottom -300px\r\n\r\n  .btns\r\n    display flex\r\n    padding 20px\r\n    justify-content flex-end\r\n\r\n  .c-time-picker-cancel\r\n  .c-time-picker-ok\r\n    padding 0 4px\r\n\r\n  .c-time-picker-cancel\r\n    margin-right 12px\r\n    color #787878\r\n\r\n  .lp-other-line\r\n    position absolute\r\n    top 46px\r\n    left 0\r\n    width 100%\r\n    height 28px\r\n    border-top 1px solid #ddd\r\n    border-bottom 1px solid #ddd\r\n\r\n  .disabled-text\r\n    color #bbb\r\n</style>\r\n"]}]}