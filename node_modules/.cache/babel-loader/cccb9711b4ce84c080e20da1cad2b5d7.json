{"remainingRequest":"/Users/mard/dev/ilnoir/node_modules/babel-loader/lib/index.js!/Users/mard/dev/ilnoir/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/mard/dev/ilnoir/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mard/dev/ilnoir/src/components/Components/Form/CInputVerify.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mard/dev/ilnoir/src/components/Components/Form/CInputVerify.vue","mtime":1605259989000},{"path":"/Users/mard/dev/ilnoir/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mard/dev/ilnoir/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/mard/dev/ilnoir/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mard/dev/ilnoir/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.string.sub\";\nimport \"core-js/modules/es6.array.index-of\";\nimport \"core-js/modules/es6.regexp.search\";\nimport \"core-js/modules/es6.regexp.split\";\nimport \"core-js/modules/es6.regexp.replace\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport FormMixin from '@/components/Mixins/FormMixin';\nexport default {\n  name: \"CInputVerify\",\n  mixins: [FormMixin],\n  props: {\n    message: {\n      type: String,\n      default: \"휴대폰 본인 인증\"\n    }\n  },\n  data: function data() {\n    return {\n      status: false,\n      form: {\n        \"MSTR\": \"\",\n        \"Keygb\": \"0\",\n        \"Okurl\": \"\",\n        \"CASH_GB\": \"CI\",\n        \"CI_Mode\": \"61\",\n        \"Cryptyn\": \"Y\",\n        \"DI_CODE\": \"\",\n        \"LOGO_YN\": \"N\",\n        \"Lmstext\": \"\",\n        \"Siteurl\": \"\",\n        \"Smstext\": \"\",\n        \"Tradeid\": \"\",\n        \"CI_SVCID\": \"\",\n        \"Callback\": \"\",\n        \"Closeurl\": \"\",\n        \"Lmstitle\": \"\",\n        \"PAY_MODE\": \"10\",\n        \"SUB_CPID\": \"\",\n        \"CALL_TYPE\": \"SELF\",\n        \"CI_FIXCOMMID\": \"\"\n      }\n    };\n  },\n  created: function created() {\n    // head에 js 파일 import\n    var head = document.getElementsByTagName('head')[0];\n    var script = document.createElement('script');\n    script.src = 'https://auth.mobilians.co.kr/js/ext/ext_inc_comm.js';\n    head.appendChild(script);\n    this.form.Siteurl = this.$store.getters.brand.domain.replace('https://', '');\n    this.form.Okurl = \"https://plugin.launchpack.co.kr/php/pg/latest/okurl.php?Siteurl=\".concat(this.form.Siteurl).concat(location.pathname);\n    this.form.CI_SVCID = this.$store.getters.social_key.mobilians_certify.svcid;\n\n    if (this.$store.getters.device === 'pc') {\n      // POPUP\n      this.form.CALL_TYPE = 'P';\n    } else {\n      // 페이지 이동\n      this.form.CALL_TYPE = 'SELF';\n    } // sns 가입의 경우\n\n\n    if (this.$route.query.login_type !== '' && this.$route.query.login_type !== undefined) {\n      // query_string 모두 저장하고 okurl.php 에서 redirect 할 때 사용\n      var params = location.search.split('&'); // 본인확인서비스 redirect 정보에 이름이 있으므로 기존 sns query string 의 name 필드는 제거\n\n      for (var i = 0; i < params.length; i++) {\n        if (params[i].indexOf('name') > -1) {\n          params.remove(i);\n        }\n      }\n\n      var redirect_url = params[0];\n\n      for (var _i = 1; _i < params.length; _i++) {\n        redirect_url += \"&\" + params[_i];\n      }\n\n      this.form.MSTR = redirect_url;\n    } // 본인인증완료 여부 초기화\n\n\n    this.$store.commit('setIdentification', false);\n\n    if (this.value && this.value !== '') {\n      this.status = true;\n      this.message = this.message + ' 완료';\n    } else {\n      // query string(type: personal_valid) 으로 인증여부 확인\n      if (this.$route.query.type === 'personal_valid') {\n        // 인증확인 후 요청시 생성한 Tradid 와 query string 의 Tradeid 가 일치하는지 확인하여\n        // 인증확인여부 처리\n        if (this.$store.getters.tradeId === this.$route.query.Tradeid) {\n          this.status = true;\n          this.message = this.message + ' 완료';\n          this.$emit('update:value', true);\n          this.$store.commit('setIdentification', true);\n        }\n      } else {\n        // 거래번호 생성\n        this.form.Tradeid = this.uuidv4();\n        this.$store.commit('setTradeId', this.form.Tradeid);\n        this.$emit('update:value', true);\n      }\n    }\n  },\n  methods: {\n    onClickEl: function onClickEl() {\n      if (this.status) return;\n      var payForm = document.getElementById('payForm'); // ext_inc_comm.js에 선언되어 있는 함수를 호출\n\n      MCASH_PAYMENT(payForm);\n    }\n  },\n  computed: {\n    buttonStyle: function buttonStyle() {\n      // 인증 완료\n      if (this.status) {\n        return {\n          padding: '14px 0',\n          borderRadius: '8px',\n          backgroundColor: this.brandBgColor.sub.backgroundColor,\n          border: this.brandBorder.main.border,\n          color: '#777777',\n          fontSize: '15px',\n          fontWeight: '500',\n          textAlign: 'center'\n        };\n      } // 인증 전\n      else {\n          return {\n            padding: '14px 0',\n            borderRadius: '8px',\n            backgroundColor: this.brandBgColor.brand.backgroundColor,\n            border: this.brandBorder.main.border,\n            color: 'white',\n            fontSize: '15px',\n            fontWeight: '500',\n            textAlign: 'center'\n          };\n        }\n    }\n  }\n};",{"version":3,"sources":["CInputVerify.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div :style=\"containerStyle\">\r\n    <!-- 레이블 -->\r\n    <div class=\"flex-align\" v-if=\"formType.label && label\">\r\n      <div :style=\"labelStyle\">{{ label }}</div>\r\n    </div>\r\n\r\n    <!-- 버튼 영역 -->\r\n    <div :style=\"buttonStyle\" @click=\"onClickEl\">\r\n      <div class=\"flex-center\">\r\n        <div>{{ message }}</div>\r\n        <i class=\"material-icons\" v-if=\"status\"\r\n           :style=\"brandColor.brand\" style=\"margin-left:4px\">check</i>\r\n      </div>\r\n    </div>\r\n\r\n    <form id=\"payForm\" accept-charset='euc-kr' onload=\"\" style=\"\">\r\n      <input type=\"hidden\" name=\"CASH_GB\" id=\"CASH_GB\" :value=\"form.CASH_GB\">\r\n      <input type=\"hidden\" name=\"PAY_MODE\" id=\"PAY_MODE\" :value=\"form.PAY_MODE\">\r\n      <input type=\"hidden\" name=\"Siteurl\" id=\"Siteurl\" :value=\"form.Siteurl\">\r\n      <input type=\"hidden\" name=\"Tradeid\" id=\"Tradeid\" :value=\"form.Tradeid\">\r\n      <input type=\"hidden\" name=\"CI_SVCID\" id=\"CI_SVCID\" :value=\"form.CI_SVCID\">\r\n      <input type=\"hidden\" name=\"CI_Mode\" id=\"CI_Mode\" :value=\"form.CI_Mode\">\r\n      <input type=\"hidden\" name=\"Okurl\" id=\"Okurl\" :value=\"form.Okurl\">\r\n      <input type=\"hidden\" name=\"Cryptyn\" id=\"Cryptyn\" :value=\"form.Cryptyn\">\r\n      <input type=\"hidden\" name=\"Keygb\" id=\"Keygb\" :value=\"form.Keygb\">\r\n      <input type=\"hidden\" name=\"Callback\" id=\"Callback\" :value=\"form.Callback\">\r\n      <input type=\"hidden\" name=\"Smstext\" id=\"Smstext\" :value=\"form.Smstext\">\r\n      <input type=\"hidden\" name=\"Lmstitle\" id=\"Lmstitle\" :value=\"form.Lmstitle\">\r\n      <input type=\"hidden\" name=\"Lmstext\" id=\"Lmstext\" :value=\"form.Lmstext\">\r\n      <input type=\"hidden\" name=\"SUB_CPID\" id=\"SUB_CPID\" :value=\"form.SUB_CPID\">\r\n      <input type=\"hidden\" name=\"DI_CODE\" id=\"DI_CODE\" :value=\"form.DI_CODE\">\r\n      <input type=\"hidden\" name=\"CI_FIXCOMMID\" id=\"CI_FIXCOMMID\" :value=\"form.CI_FIXCOMMID\">\r\n      <input type=\"hidden\" name=\"Closeurl\" id=\"Closeurl\" :value=\"form.Closeurl\">\r\n      <input type=\"hidden\" name=\"MSTR\" id=\"MSTR\" :value=\"form.MSTR\">\r\n      <input type=\"hidden\" name=\"LOGO_YN\" id=\"LOGO_YN\" :value=\"form.LOGO_YN\">\r\n      <input type=\"hidden\" name=\"CALL_TYPE\" id=\"CALL_TYPE\" :value=\"form.CALL_TYPE\">\r\n      <input type=\"hidden\" name=\"LOGIN_TYPE\" id=\"LOGIN_TYPE\" :value=\"form.LOGIN_TYPE\">\r\n    </form>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import FormMixin from '@/components/Mixins/FormMixin';\r\n\r\n  export default {\r\n    name: \"CInputVerify\",\r\n\r\n    mixins: [\r\n      FormMixin\r\n    ],\r\n\r\n    props: {\r\n      message: {\r\n        type: String,\r\n        default: \"휴대폰 본인 인증\"\r\n      }\r\n    },\r\n    data() {\r\n      return {\r\n        status: false,\r\n        form: {\r\n          \"MSTR\": \"\",\r\n          \"Keygb\": \"0\",\r\n          \"Okurl\": \"\",\r\n          \"CASH_GB\": \"CI\",\r\n          \"CI_Mode\": \"61\",\r\n          \"Cryptyn\": \"Y\",\r\n          \"DI_CODE\": \"\",\r\n          \"LOGO_YN\": \"N\",\r\n          \"Lmstext\": \"\",\r\n          \"Siteurl\": \"\",\r\n          \"Smstext\": \"\",\r\n          \"Tradeid\": \"\",\r\n          \"CI_SVCID\": \"\",\r\n          \"Callback\": \"\",\r\n          \"Closeurl\": \"\",\r\n          \"Lmstitle\": \"\",\r\n          \"PAY_MODE\": \"10\",\r\n          \"SUB_CPID\": \"\",\r\n          \"CALL_TYPE\": \"SELF\",\r\n          \"CI_FIXCOMMID\": \"\"\r\n        }\r\n      }\r\n    },\r\n\r\n    created() {\r\n      // head에 js 파일 import\r\n      let head = document.getElementsByTagName('head')[0];\r\n      let script = document.createElement('script');\r\n      script.src = 'https://auth.mobilians.co.kr/js/ext/ext_inc_comm.js';\r\n      head.appendChild(script);\r\n\r\n      this.form.Siteurl = this.$store.getters.brand.domain.replace('https://','');\r\n      this.form.Okurl = `https://plugin.launchpack.co.kr/php/pg/latest/okurl.php?Siteurl=${this.form.Siteurl}${location.pathname}`;\r\n      this.form.CI_SVCID = this.$store.getters.social_key.mobilians_certify.svcid;\r\n\r\n      if(this.$store.getters.device === 'pc') {\r\n        // POPUP\r\n        this.form.CALL_TYPE= 'P';\r\n      } else {\r\n        // 페이지 이동\r\n        this.form.CALL_TYPE = 'SELF';\r\n      }\r\n\r\n      // sns 가입의 경우\r\n      if (this.$route.query.login_type !== '' &&\r\n        this.$route.query.login_type !== undefined) {\r\n        // query_string 모두 저장하고 okurl.php 에서 redirect 할 때 사용\r\n        let params = location.search.split('&');\r\n\r\n        // 본인확인서비스 redirect 정보에 이름이 있으므로 기존 sns query string 의 name 필드는 제거\r\n        for (let i = 0; i < params.length; i++) {\r\n          if(params[i].indexOf('name') > -1) {\r\n            params.remove(i);\r\n          }\r\n        }\r\n\r\n        let redirect_url = params[0];\r\n\r\n        for (let i = 1; i < params.length; i++) {\r\n          redirect_url += \"&\" + params[i]\r\n        }\r\n\r\n        this.form.MSTR = redirect_url;\r\n      }\r\n\r\n      // 본인인증완료 여부 초기화\r\n      this.$store.commit('setIdentification', false);\r\n      if(this.value && this.value !== '') {\r\n        this.status = true;\r\n        this.message = this.message + ' 완료';\r\n      }\r\n      else {\r\n        // query string(type: personal_valid) 으로 인증여부 확인\r\n        if (this.$route.query.type === 'personal_valid') {\r\n          // 인증확인 후 요청시 생성한 Tradid 와 query string 의 Tradeid 가 일치하는지 확인하여\r\n          // 인증확인여부 처리\r\n          if (this.$store.getters.tradeId === this.$route.query.Tradeid) {\r\n            this.status = true;\r\n            this.message = this.message + ' 완료';\r\n            this.$emit('update:value', true);\r\n            this.$store.commit('setIdentification', true);\r\n          }\r\n        } else {\r\n          // 거래번호 생성\r\n          this.form.Tradeid = this.uuidv4();\r\n          this.$store.commit('setTradeId', this.form.Tradeid);\r\n          this.$emit('update:value',true);\r\n        }\r\n      }\r\n    },\r\n    methods: {\r\n      onClickEl() {\r\n        if (this.status) return;\r\n        let payForm = document.getElementById('payForm');\r\n        // ext_inc_comm.js에 선언되어 있는 함수를 호출\r\n        MCASH_PAYMENT(payForm);\r\n      }\r\n    },\r\n    computed: {\r\n      buttonStyle() {\r\n        // 인증 완료\r\n        if(this.status) {\r\n          return {\r\n            padding: '14px 0',\r\n            borderRadius: '8px',\r\n            backgroundColor: this.brandBgColor.sub.backgroundColor,\r\n            border: this.brandBorder.main.border,\r\n            color: '#777777',\r\n            fontSize: '15px',\r\n            fontWeight: '500',\r\n            textAlign: 'center',\r\n          }\r\n        }\r\n        // 인증 전\r\n        else {\r\n          return {\r\n            padding: '14px 0',\r\n            borderRadius: '8px',\r\n            backgroundColor: this.brandBgColor.brand.backgroundColor,\r\n            border: this.brandBorder.main.border,\r\n            color: 'white',\r\n            fontSize: '15px',\r\n            fontWeight: '500',\r\n            textAlign: 'center',\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n</script>\r\n"],"sourceRoot":"src/components/Components/Form"}]}