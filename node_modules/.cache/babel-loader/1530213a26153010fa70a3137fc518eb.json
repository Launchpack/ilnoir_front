{"remainingRequest":"/Users/mard/dev/grit12/node_modules/babel-loader/lib/index.js!/Users/mard/dev/grit12/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/mard/dev/grit12/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mard/dev/grit12/src/components/Components/Common/EImage.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mard/dev/grit12/src/components/Components/Common/EImage.vue","mtime":1605259983000},{"path":"/Users/mard/dev/grit12/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mard/dev/grit12/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/mard/dev/grit12/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mard/dev/grit12/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.for-each\";\nimport \"core-js/modules/es6.regexp.replace\";\nimport \"core-js/modules/es6.array.index-of\";\nimport \"core-js/modules/es6.regexp.split\";\nimport \"core-js/modules/es6.number.constructor\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport uuidv4 from 'uuid/v4';\nimport objectFitImages from 'object-fit-images';\nexport default {\n  props: {\n    isLazy: {\n      type: Boolean,\n      default: true\n    },\n    isBg: {\n      type: Boolean,\n      default: false\n    },\n    bgOption: {\n      type: String\n    },\n    useThumb: {\n      type: Boolean\n    },\n    img: {\n      type: String\n    },\n    imageRates: {\n      type: Object,\n      required: true\n    },\n    category: {\n      type: Number\n    },\n    width: {\n      type: [Number, String]\n    },\n    height: {\n      type: [Number, String]\n    },\n    objectFit: {\n      type: String,\n      default: 'cover'\n    },\n    useRatio: {\n      type: Boolean,\n      default: true\n    }\n  },\n  data: function data() {\n    return {\n      alt: '',\n      ratio: '',\n      imgSrc: '',\n      uid: ''\n    };\n  },\n  created: function created() {\n    this.uid = uuidv4();\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    this.$nextTick(function () {\n      if (_this.useRatio) {\n        _this.setRatio();\n      }\n\n      _this.setImage();\n\n      _this.setAlt();\n\n      objectFitImages();\n    });\n  },\n  methods: {\n    setImage: function setImage() {\n      var img = '';\n\n      if (this.img === this.dummyImage.bg) {\n        img = this.img;\n      } else if (this.useThumb) {\n        var imageSrc = this.img;\n        var temp = imageSrc.split('.');\n\n        if (temp[0].split('//')[1] === \"launchpack-storage\") {\n          temp[temp.length - 2] = \"\".concat(temp[temp.length - 2], \"_thumb\");\n          img = temp.join('.');\n        } else {\n          img = this.img;\n        }\n      } else {\n        img = this.img;\n      } // IE, Mac OS 10.15까지의 safari 브라우저를 제외한 나머지 브라우저 .webp로 이미지 전환\n\n\n      if (navigator.userAgent.indexOf('Trident') === -1 && navigator.userAgent.indexOf('Mac OS X') === -1) {\n        img = img.replace('.jpg', '.webp').replace('.jpeg', '.webp').replace('.png', '.webp').replace('.JPG', '.webp').replace('.JPEG', '.webp').replace('.PNG', '.webp');\n      }\n\n      this.imgSrc = img;\n    },\n    setAlt: function setAlt() {\n      var _this2 = this;\n\n      this.$axios.get(\"https://ig7m3u7il7.execute-api.ap-northeast-2.amazonaws.com/v1/save_img_text?path=\".concat(this.img), {\n        headers: ''\n      }).then(function (res) {\n        _this2.alt = res.data;\n      });\n    },\n    setRatio: function setRatio() {\n      var _this3 = this;\n\n      this.ratio = this.imageRates.ratio;\n\n      if (this.imageRates.exception && this.imageRates.exception.length !== 0) {\n        this.imageRates.exception.forEach(function (item) {\n          if (item.category === _this3.category) {\n            _this3.ratio = item.ratio;\n          }\n        });\n      }\n    }\n  },\n  computed: {\n    imgWrapperStyle: function imgWrapperStyle() {\n      var deco = {\n        width: '',\n        height: '',\n        minHeight: '',\n        overflow: 'hidden'\n      };\n\n      if (this.$store.getters.device === 'pc') {\n        deco.width = \"\".concat(window.innerWidth, \"px\");\n      } else {\n        deco.width = \"\".concat(this.$store.getters.deviceWidth, \"px\");\n      }\n\n      if (this.width) {\n        if (typeof this.width === \"string\") {\n          deco.width = this.width;\n        } else {\n          deco.width = \"\".concat(this.width, \"px\");\n        }\n      }\n\n      if (this.useRatio) {\n        switch (this.ratio) {\n          case '1:1':\n            deco.height = deco.width;\n            break;\n\n          case '2.35:1':\n            deco.height = \"calc(\".concat(deco.width, \" * 1/2.35)\");\n            break;\n\n          case '3:1':\n            deco.height = \"calc(\".concat(deco.width, \" * 1/3)\");\n            break;\n\n          case '3:2':\n            deco.height = \"calc(\".concat(deco.width, \" * 2/3)\");\n            break;\n\n          case '3:4':\n            deco.height = \"calc(\".concat(deco.width, \" * 4/3)\");\n            break;\n\n          case '4:1':\n            deco.height = \"calc(\".concat(deco.width, \" * 1/4)\");\n            break;\n\n          case '4:3':\n            deco.height = \"calc(\".concat(deco.width, \" * 3/4)\");\n            break;\n\n          case '5:1':\n            deco.height = \"calc(\".concat(deco.width, \" * 1/5)\");\n            break;\n\n          case '8:1':\n            deco.height = \"calc(\".concat(deco.width, \" * 1/8)\");\n            break;\n\n          case '16:9':\n            deco.height = \"calc(\".concat(deco.width, \" * 9/16)\");\n            break;\n\n          default:\n            deco.height = deco.width;\n            break;\n        }\n      } else {\n        if (this.height) {\n          if (typeof this.height === \"string\") {\n            deco.height = this.height;\n          } else {\n            deco.height = \"\".concat(this.height, \"px\");\n          }\n        } else {\n          deco.height = '100px';\n        }\n      }\n\n      deco.minHeight = deco.height;\n      return deco;\n    },\n    imgStyle: function imgStyle() {\n      var deco = {\n        width: '',\n        height: '',\n        minHeight: '',\n        objectFit: this.objectFit,\n        fontFamily: \"object-fit: \".concat(this.objectFit)\n      };\n\n      if (this.$store.getters.device === 'pc') {\n        deco.width = \"\".concat(window.innerWidth, \"px\");\n      } else {\n        deco.width = \"\".concat(this.$store.getters.deviceWidth, \"px\");\n      }\n\n      if (this.width) {\n        if (typeof this.width === \"string\") {\n          deco.width = this.width;\n        } else {\n          deco.width = \"\".concat(this.width, \"px\");\n        }\n      }\n\n      if (this.useRatio) {\n        switch (this.ratio) {\n          case '1:1':\n            deco.height = deco.width;\n            break;\n\n          case '2.35:1':\n            deco.height = \"calc(\".concat(deco.width, \" * 1/2.35)\");\n            break;\n\n          case '3:1':\n            deco.height = \"calc(\".concat(deco.width, \" * 1/3)\");\n            break;\n\n          case '3:2':\n            deco.height = \"calc(\".concat(deco.width, \" * 2/3)\");\n            break;\n\n          case '3:4':\n            deco.height = \"calc(\".concat(deco.width, \" * 4/3)\");\n            break;\n\n          case '4:1':\n            deco.height = \"calc(\".concat(deco.width, \" * 1/4)\");\n            break;\n\n          case '4:3':\n            deco.height = \"calc(\".concat(deco.width, \" * 3/4)\");\n            break;\n\n          case '5:1':\n            deco.height = \"calc(\".concat(deco.width, \" * 1/5)\");\n            break;\n\n          case '8:1':\n            deco.height = \"calc(\".concat(deco.width, \" * 1/8)\");\n            break;\n\n          case '16:9':\n            deco.height = \"calc(\".concat(deco.width, \" * 9/16)\");\n            break;\n\n          default:\n            deco.height = deco.width;\n            break;\n        }\n      } else {\n        if (this.height) {\n          if (typeof this.height === \"string\") {\n            deco.height = this.height;\n          } else {\n            deco.height = \"\".concat(this.height, \"px\");\n          }\n        } else {\n          deco.height = '100px';\n        }\n      }\n\n      deco.minHeight = deco.height;\n      return deco;\n    },\n    bgStyle: function bgStyle() {\n      var deco = {\n        width: '',\n        height: '',\n        minHeight: '',\n        backgroundImage: \"url(\".concat(this.imgSrc, \")\"),\n        backgroundSize: 'cover',\n        backgroundPosition: 'center',\n        backgroundRepeat: 'no-repeat'\n      };\n\n      if (!this.isLazy && this.bgOption) {\n        deco.backgroundImage = \"\".concat(this.bgOption, \", url(\").concat(this.imgSrc, \")\");\n      }\n\n      if (this.$store.getters.device === 'pc') {\n        deco.width = \"\".concat(window.innerWidth, \"px\");\n      } else {\n        deco.width = \"\".concat(this.$store.getters.deviceWidth, \"px\");\n      }\n\n      if (this.width) {\n        if (typeof this.width === \"string\") {\n          deco.width = this.width;\n        } else {\n          deco.width = \"\".concat(this.width, \"px\");\n        }\n      }\n\n      if (this.useRatio) {\n        switch (this.ratio) {\n          case '1:1':\n            deco.height = deco.width;\n            break;\n\n          case '2.35:1':\n            deco.height = \"calc(\".concat(deco.width, \" * 1/2.35)\");\n            break;\n\n          case '3:1':\n            deco.height = \"calc(\".concat(deco.width, \" * 1/3)\");\n            break;\n\n          case '3:2':\n            deco.height = \"calc(\".concat(deco.width, \" * 2/3)\");\n            break;\n\n          case '3:4':\n            deco.height = \"calc(\".concat(deco.width, \" * 4/3)\");\n            break;\n\n          case '4:1':\n            deco.height = \"calc(\".concat(deco.width, \" * 1/4)\");\n            break;\n\n          case '4:3':\n            deco.height = \"calc(\".concat(deco.width, \" * 3/4)\");\n            break;\n\n          case '5:1':\n            deco.height = \"calc(\".concat(deco.width, \" * 1/5)\");\n            break;\n\n          case '8:1':\n            deco.height = \"calc(\".concat(deco.width, \" * 1/8)\");\n            break;\n\n          case '16:9':\n            deco.height = \"calc(\".concat(deco.width, \" * 9/16)\");\n            break;\n\n          default:\n            deco.height = deco.width;\n            break;\n        }\n      } else {\n        if (this.height) {\n          if (typeof this.height === \"string\") {\n            deco.height = this.height;\n          } else {\n            deco.height = \"\".concat(this.height, \"px\");\n          }\n        } else {\n          deco.height = '100px';\n        }\n      }\n\n      deco.minHeight = deco.height;\n      return deco;\n    }\n  },\n  watch: {\n    img: function img(n, o) {\n      this.img = n;\n      this.setImage();\n    }\n  }\n};",{"version":3,"sources":["EImage.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div v-if=\"isBg && isLazy\" v-lazy:background-image=\"imgSrc\" :key=\"uid\" :style=\"bgStyle\">\r\n    <slot name=\"inner\"></slot>\r\n  </div>\r\n  <div v-else-if=\"isBg\" :key=\"uid\" :style=\"bgStyle\">\r\n    <slot name=\"inner\"></slot>\r\n  </div>\r\n  <div v-else-if=\"isLazy\" :style=\"imgWrapperStyle\">\r\n    <img v-if=\"imgSrc !== ''\" v-lazy=\"imgSrc\"\r\n      :key=\"uid\" :style=\"imgStyle\" :alt=\"alt\" :data-object-fit=\"objectFit\" />\r\n  </div>\r\n  <div v-else :style=\"imgWrapperStyle\">\r\n    <img v-if=\"imgSrc !== ''\" :key=\"uid\" :style=\"imgStyle\" :src=\"imgSrc\" :alt=\"alt\" :data-object-fit=\"objectFit\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport uuidv4 from 'uuid/v4'\r\nimport objectFitImages from 'object-fit-images'\r\n\r\nexport default {\r\n  props: {\r\n    isLazy: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n    isBg: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    bgOption: {\r\n      type: String\r\n    },\r\n    useThumb: {\r\n      type: Boolean\r\n    },\r\n    img: {\r\n      type: String\r\n    },\r\n    imageRates: {\r\n      type: Object,\r\n      required: true\r\n    },\r\n    category: {\r\n      type: Number\r\n    },\r\n    width: {\r\n      type: [Number, String]\r\n    },\r\n    height: {\r\n      type: [Number, String]\r\n    },\r\n    objectFit: {\r\n      type: String,\r\n      default: 'cover'\r\n    },\r\n    useRatio: {\r\n      type: Boolean,\r\n      default: true\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      alt: '',\r\n      ratio: '',\r\n      imgSrc: '',\r\n      uid: ''\r\n    }\r\n  },\r\n  created() {\r\n    this.uid = uuidv4();\r\n  },\r\n  mounted() {\r\n    this.$nextTick(() => {\r\n      if (this.useRatio) {\r\n        this.setRatio();\r\n      }\r\n      this.setImage();\r\n      this.setAlt();\r\n\r\n      objectFitImages();\r\n    })\r\n  },\r\n  methods: {\r\n    setImage() {\r\n      let img = '';\r\n      if (this.img === this.dummyImage.bg) {\r\n        img = this.img;\r\n      } else if (this.useThumb) {\r\n        let imageSrc = this.img;\r\n        let temp = imageSrc.split('.');\r\n        if (temp[0].split('//')[1] === \"launchpack-storage\") {\r\n          temp[temp.length - 2] = `${temp[temp.length - 2]}_thumb`;\r\n          img = temp.join('.');\r\n        } else {\r\n          img = this.img;\r\n        }\r\n      } else {\r\n        img = this.img;\r\n      }\r\n      // IE, Mac OS 10.15까지의 safari 브라우저를 제외한 나머지 브라우저 .webp로 이미지 전환\r\n      if(navigator.userAgent.indexOf('Trident')===-1 && navigator.userAgent.indexOf('Mac OS X')===-1) {\r\n        img = img.replace('.jpg', '.webp').replace('.jpeg', '.webp').replace('.png', '.webp').replace('.JPG', '.webp').replace('.JPEG', '.webp').replace('.PNG', '.webp');\r\n      }\r\n      this.imgSrc = img;\r\n    },\r\n    setAlt() {\r\n      this.$axios.get(`https://ig7m3u7il7.execute-api.ap-northeast-2.amazonaws.com/v1/save_img_text?path=${this.img}`, {headers: ''}).then(res=>{\r\n        this.alt = res.data;\r\n      });\r\n    },\r\n    setRatio() {\r\n      this.ratio = this.imageRates.ratio;\r\n\r\n      if (this.imageRates.exception && this.imageRates.exception.length !== 0) {\r\n        this.imageRates.exception.forEach(item => {\r\n          if (item.category === this.category) {\r\n            this.ratio = item.ratio;\r\n          }\r\n        })\r\n      }\r\n    },\r\n    \r\n  },\r\n  computed: {\r\n    imgWrapperStyle() {\r\n      let deco = {\r\n        width: '',\r\n        height: '',\r\n        minHeight: '',\r\n        overflow: 'hidden'\r\n      }\r\n\r\n      if (this.$store.getters.device === 'pc') {\r\n        deco.width = `${window.innerWidth}px`;\r\n      } else {\r\n        deco.width = `${this.$store.getters.deviceWidth}px`;\r\n      }\r\n      if (this.width) {\r\n        if (typeof this.width === \"string\") {\r\n          deco.width = this.width;\r\n        } else {\r\n          deco.width = `${this.width}px`;\r\n        }\r\n      }\r\n      if (this.useRatio) {\r\n        switch(this.ratio) {\r\n          case '1:1':\r\n            deco.height = deco.width;\r\n            break;\r\n          case '2.35:1':\r\n            deco.height = `calc(${deco.width} * 1/2.35)`;\r\n            break;\r\n          case '3:1':\r\n            deco.height = `calc(${deco.width} * 1/3)`;\r\n            break;\r\n          case '3:2':\r\n            deco.height = `calc(${deco.width} * 2/3)`;\r\n            break;\r\n          case '3:4':\r\n            deco.height = `calc(${deco.width} * 4/3)`;\r\n            break;\r\n          case '4:1':\r\n            deco.height = `calc(${deco.width} * 1/4)`;\r\n            break;\r\n          case '4:3':\r\n            deco.height = `calc(${deco.width} * 3/4)`;\r\n            break;\r\n          case '5:1':\r\n            deco.height = `calc(${deco.width} * 1/5)`;\r\n            break;\r\n          case '8:1':\r\n            deco.height = `calc(${deco.width} * 1/8)`;\r\n            break;\r\n          case '16:9':\r\n            deco.height = `calc(${deco.width} * 9/16)`;\r\n            break;\r\n          default:\r\n            deco.height = deco.width;\r\n            break;\r\n        }\r\n      } else {\r\n        if (this.height) {\r\n          if (typeof this.height === \"string\") {\r\n            deco.height = this.height;\r\n          } else {\r\n            deco.height = `${this.height}px`;\r\n          }\r\n        } else {\r\n          deco.height = '100px';\r\n        }\r\n      }\r\n      \r\n      deco.minHeight = deco.height;\r\n      return deco;\r\n    },\r\n    imgStyle() {\r\n      let deco = {\r\n        width: '',\r\n        height: '',\r\n        minHeight: '',\r\n        objectFit: this.objectFit,\r\n        fontFamily: `object-fit: ${this.objectFit}`\r\n      }\r\n\r\n      if (this.$store.getters.device === 'pc') {\r\n        deco.width = `${window.innerWidth}px`;\r\n      } else {\r\n        deco.width = `${this.$store.getters.deviceWidth}px`;\r\n      }\r\n      if (this.width) {\r\n        if (typeof this.width === \"string\") {\r\n          deco.width = this.width;\r\n        } else {\r\n          deco.width = `${this.width}px`;\r\n        }\r\n      }\r\n\r\n      if (this.useRatio) {\r\n        switch(this.ratio) {\r\n          case '1:1':\r\n            deco.height = deco.width;\r\n            break;\r\n          case '2.35:1':\r\n            deco.height = `calc(${deco.width} * 1/2.35)`;\r\n            break;\r\n          case '3:1':\r\n            deco.height = `calc(${deco.width} * 1/3)`;\r\n            break;\r\n          case '3:2':\r\n            deco.height = `calc(${deco.width} * 2/3)`;\r\n            break;\r\n          case '3:4':\r\n            deco.height = `calc(${deco.width} * 4/3)`;\r\n            break;\r\n          case '4:1':\r\n            deco.height = `calc(${deco.width} * 1/4)`;\r\n            break;\r\n          case '4:3':\r\n            deco.height = `calc(${deco.width} * 3/4)`;\r\n            break;\r\n          case '5:1':\r\n            deco.height = `calc(${deco.width} * 1/5)`;\r\n            break;\r\n          case '8:1':\r\n            deco.height = `calc(${deco.width} * 1/8)`;\r\n            break;\r\n          case '16:9':\r\n            deco.height = `calc(${deco.width} * 9/16)`;\r\n            break;\r\n          default:\r\n            deco.height = deco.width;\r\n            break;\r\n        }\r\n      } else {\r\n        if (this.height) {\r\n          if (typeof this.height === \"string\") {\r\n            deco.height = this.height;\r\n          } else {\r\n            deco.height = `${this.height}px`;\r\n          }\r\n        } else {\r\n          deco.height = '100px';\r\n        }\r\n      }\r\n      \r\n      deco.minHeight = deco.height;\r\n      return deco;\r\n    },\r\n    bgStyle() {\r\n      let deco = {\r\n        width: '',\r\n        height: '',\r\n        minHeight: '',\r\n        backgroundImage: `url(${this.imgSrc})`,\r\n        backgroundSize: 'cover',\r\n        backgroundPosition: 'center',\r\n        backgroundRepeat: 'no-repeat'\r\n      }\r\n\r\n      if (!this.isLazy && this.bgOption) {\r\n        deco.backgroundImage = `${this.bgOption}, url(${this.imgSrc})`\r\n      }\r\n\r\n      if (this.$store.getters.device === 'pc') {\r\n        deco.width = `${window.innerWidth}px`;\r\n      } else {\r\n        deco.width = `${this.$store.getters.deviceWidth}px`;\r\n      }\r\n      if (this.width) {\r\n        if (typeof this.width === \"string\") {\r\n          deco.width = this.width;\r\n        } else {\r\n          deco.width = `${this.width}px`;\r\n        }\r\n      }\r\n      if (this.useRatio) {\r\n        switch(this.ratio) {\r\n          case '1:1':\r\n            deco.height = deco.width;\r\n            break;\r\n          case '2.35:1':\r\n            deco.height = `calc(${deco.width} * 1/2.35)`;\r\n            break;\r\n          case '3:1':\r\n            deco.height = `calc(${deco.width} * 1/3)`;\r\n            break;\r\n          case '3:2':\r\n            deco.height = `calc(${deco.width} * 2/3)`;\r\n            break;\r\n          case '3:4':\r\n            deco.height = `calc(${deco.width} * 4/3)`;\r\n            break;\r\n          case '4:1':\r\n            deco.height = `calc(${deco.width} * 1/4)`;\r\n            break;\r\n          case '4:3':\r\n            deco.height = `calc(${deco.width} * 3/4)`;\r\n            break;\r\n          case '5:1':\r\n            deco.height = `calc(${deco.width} * 1/5)`;\r\n            break;\r\n          case '8:1':\r\n            deco.height = `calc(${deco.width} * 1/8)`;\r\n            break;\r\n          case '16:9':\r\n            deco.height = `calc(${deco.width} * 9/16)`;\r\n            break;\r\n          default:\r\n            deco.height = deco.width;\r\n            break;\r\n        }\r\n      } else {\r\n        if (this.height) {\r\n          if (typeof this.height === \"string\") {\r\n            deco.height = this.height;\r\n          } else {\r\n            deco.height = `${this.height}px`;\r\n          }\r\n        } else {\r\n          deco.height = '100px';\r\n        }\r\n      }\r\n      \r\n      deco.minHeight = deco.height;\r\n      return deco;\r\n    }\r\n  },\r\n  watch: {\r\n    img(n, o) {\r\n      this.img = n;\r\n      this.setImage();\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>"],"sourceRoot":"src/components/Components/Common"}]}