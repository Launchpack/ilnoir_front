{"remainingRequest":"/Users/mard/dev/grit12/node_modules/babel-loader/lib/index.js!/Users/mard/dev/grit12/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/mard/dev/grit12/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mard/dev/grit12/src/components/Components/Block/BlockRegion.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mard/dev/grit12/src/components/Components/Block/BlockRegion.vue","mtime":1605260008000},{"path":"/Users/mard/dev/grit12/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mard/dev/grit12/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/mard/dev/grit12/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mard/dev/grit12/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.string.sub\";\nimport \"core-js/modules/es6.number.constructor\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport BlockMapSearch from \"@/components/Components/Block/BlockMapSearch\";\nimport CardMixin from \"@/components/Mixins/CardMixin\";\nexport default {\n  name: 'BlockRegion',\n  components: {\n    BlockMapSearch: BlockMapSearch\n  },\n  mixins: [CardMixin],\n  props: {\n    scrollHeight: {\n      type: Number,\n      default: 296,\n      required: false\n    }\n  },\n  data: function data() {\n    return {\n      \"dong\": [],\n      \"sido\": [],\n      \"type\": \"service\",\n      \"showMap\": false,\n      \"sigungu\": [],\n      \"hoverSido\": {},\n      \"hoverSigungu\": {},\n      \"selectedSido\": {},\n      \"selectedSigungu\": {}\n    };\n  },\n  created: function created() {\n    var _this = this;\n\n    // 시/도 데이터 가져오기\n    this.$axios.get(\"public/address/\".concat(this.type, \"/sido\")).then(function (res) {\n      if (res.status === 200) {\n        _this.sido = res.data;\n      }\n    }).catch(function (err) {\n      console.log(err);\n    });\n  },\n  methods: {\n    clickCurrent: function clickCurrent() {\n      this.$emit('setCurrent');\n      this.selectedSido = {};\n      this.selectedSigungu = {};\n    },\n    // 마우스 오버, 클릭 style 때문에 methods로 처리\n    itemStyle: function itemStyle(item, type) {\n      var deco = {\n        color: this.brandColor.main.color,\n        background: this.brandBgColor.sub.backgroundColor,\n        marginBottom: this.layout_gutter + 'px'\n      }; // 시도 아이템: 마우스오버 or 클릭 시 배경색상\n\n      if (type === 'sido' && item !== undefined) {\n        if (item.id === this.hoverSido.id || item.id === this.selectedSido.id) {\n          deco.background = this.brandBgColor.primary.backgroundColor;\n          deco.color = '#fff';\n        }\n      } // 시군구 아이템: 마우스오버 or 클릭 시 배경색상\n\n\n      if (type === 'sigungu' && item !== undefined) {\n        if (item.id === this.hoverSigungu.id || item.id === this.selectedSigungu.id) {\n          deco.background = this.brandBgColor.primary.backgroundColor;\n          deco.color = '#fff';\n        }\n      }\n\n      return deco;\n    },\n    clickSido: function clickSido(item) {\n      var _this2 = this;\n\n      // 시군구 데이터 가져오기\n      this.$axios.get(\"public/address/\".concat(this.type, \"/sido/\").concat(item.id, \"/sigungu\")).then(function (res) {\n        if (res.status === 200) {\n          _this2.sigungu = res.data;\n          _this2.selectedSido = item;\n          _this2.selectedSigungu = {};\n        }\n      }).catch(function (err) {\n        console.log(err);\n      });\n    },\n    clickSigungu: function clickSigungu(item) {\n      this.selectedSigungu = item; // this.$emit('selectedRegion', {\n      //   sido: this.selectedSido,\n      //   sigungu: this.selectedSigungu\n      // });\n\n      this.selectRegion();\n    },\n    selectRegion: function selectRegion() {\n      var _this3 = this;\n\n      var address = \"\".concat(this.selectedSido.name, \" \").concat(this.selectedSigungu.name);\n      if (this.selectedSido.name === '세종특별자치시') address = this.selectedSido.name;\n      this.$axios.get(\"/public/service/local?search_text=\".concat(address)).then(function (res) {\n        if (res.status === 200) {\n          var location = res.data.local_list[0];\n\n          _this3.$store.commit('setCurrentPosition', {\n            lng: location.x,\n            lat: location.y\n          });\n\n          _this3.$emit('changePosition', {\n            lng: location.x,\n            lat: location.y\n          });\n        }\n      });\n    },\n    selectMap: function selectMap(val) {\n      this.$store.commit('setCurrentPosition', {\n        lng: val.x,\n        lat: val.y\n      });\n      this.$emit('changePosition', {\n        lng: val.x,\n        lat: val.y\n      });\n      this.showMap = false;\n      this.selectedSido = {};\n      this.selectedSigungu = {};\n    },\n    overSido: function overSido(item) {\n      this.hoverSido = item;\n    },\n    leaveSido: function leaveSido() {\n      this.hoverSido = {};\n    },\n    overSigungu: function overSigungu(item) {\n      this.hoverSigungu = item;\n    },\n    leaveSigungu: function leaveSigungu() {\n      this.hoverSigungu = {};\n    }\n  },\n  computed: {\n    colLeft: function colLeft() {\n      return {\n        marginRight: \"\".concat(this.layout_gutter / 2, \"px\")\n      };\n    },\n    colRight: function colRight() {\n      return {\n        marginLeft: \"\".concat(this.layout_gutter / 2, \"px\")\n      };\n    },\n    scrollStyle: function scrollStyle() {\n      var scrollbar = this.getScrollbarWidth();\n      return {\n        width: \"calc(100% + \".concat(scrollbar, \"px)\"),\n        height: \"calc(100vh - \".concat(this.scrollHeight, \"px)\"),\n        overflowY: 'scroll',\n        overflowX: 'hidden'\n      };\n    }\n  },\n  watch: {}\n};",{"version":3,"sources":["BlockRegion.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n<div :style=\"pagePadding\" style=\"padding-top:24px; padding-bottom:24px;\">\n  \n  <!--주소 선택-->\n  <div class=\"wrap\" style=\"margin-bottom:32px;\">\n    <div class=\"title size-20 weight-500 margin-bottom-12\" :style=\"brandColor.main\">위치 지정</div>\n    <div class=\"flex-align\">\n      <div class=\"col-6 button size-14 flex-between unselect\" style=\"padding:16px;height: 48px;\" \n        :style=\"[brandBgColor.white, brandColor.main, radius, colLeft]\"\n        @click=\"clickCurrent\">\n        내 위치로 지정\n        <i class=\"material-icons size-20\" :style=\"brandColor.help\">gps_fixed</i>\n      </div>\n      <div class=\"col-6 button size-14 flex-between unselect\" style=\"padding:16px;height: 48px;\" \n        :style=\"[brandBgColor.white, brandColor.main, radius, colRight]\"\n        @click=\"showMap=true\">\n        지도로 위치 지정\n        <i class=\"material-icons size-20\" :style=\"brandColor.main\">map</i>\n      </div>\n    </div>\n  </div>\n  <div class=\"wrap size-14 full-width overflow-hidden\">\n    <div class=\"title size-20 weight-500 margin-bottom-12\" :style=\"brandColor.main\">주소로 위치 지정</div>\n    <!-- '시도 선택' / '시군구 선택' -->\n    <div class=\"flex-align\" style=\"margin-bottom:16px;\">\n      <div class=\"col-6\" :style=\"[brandColor.main, colLeft]\">시/도 선택</div>\n      <div class=\"col-6\" :style=\"[brandColor.main, colRight]\">시/군/구 선택</div>\n    </div>\n    <!-- 시도/시군구 데이터 -->\n    <div class=\"flex weight-500\" :style=\"scrollStyle\">\n      <!-- 시도 (좌측) -->\n        <div class=\"col-6\" :style=\"colLeft\">\n          <div v-for=\"(item, idx) in sido\"\n               :key=\"`sido${idx}`\"\n               class=\"sido-item flex-align unselect\"\n               :style=\"[radius,itemStyle(item, 'sido')]\"\n               @click.stop.prevent=\"clickSido(item)\"\n               @mouseover.stop.prevent=\"overSido(item)\"\n               @mouseleave.stop.prevent=\"leaveSido\">\n            {{ item.name }}\n          </div>\n        </div>\n      <!-- 시군구 (우측) -->\n        <div class=\"col-6\" :style=\"colRight\">\n          <div v-for=\"(item, idx) in sigungu\"\n               :key=\"`sigungu${idx}`\"\n               class=\"sigungu-item flex-align unselect\"\n               :style=\"[radius,itemStyle(item, 'sigungu')]\"\n               @click.stop.prevent=\"clickSigungu(item)\"\n               @mouseover.stop.prevent=\"overSigungu(item)\"\n               @mouseleave.stop.prevent=\"leaveSigungu\">\n            {{ item.name }}\n          </div>\n        </div>\n    </div>\n  </div>\n  \n  <!--맵뷰-->\n  <block-map-search v-if=\"showMap\" @closeMap=\"showMap=false\" @setMapLocation=\"val => selectMap(val)\"></block-map-search>\n</div>\n</template>\n<script>\nimport BlockMapSearch from \"@/components/Components/Block/BlockMapSearch\"\nimport CardMixin from \"@/components/Mixins/CardMixin\"\n\nexport default {\n  name: 'BlockRegion',\n  components: {\n    BlockMapSearch\n  },\n  mixins: [\n    CardMixin\n  ],\n  props: {\n    scrollHeight: {\n      type: Number,\n      default: 296,\n      required: false,\n    },\n\n  },\n  data() {\n    return {\n      \"dong\": [],\n      \"sido\": [],\n      \"type\": \"service\",\n      \"showMap\": false,\n      \"sigungu\": [],\n      \"hoverSido\": {},\n      \"hoverSigungu\": {},\n      \"selectedSido\": {},\n      \"selectedSigungu\": {}\n    }\n  },\n  created() {\n    // 시/도 데이터 가져오기\n    this.$axios.get(`public/address/${this.type}/sido`)\n      .then(res => {\n        if ( res.status === 200 ) {\n          this.sido = res.data;\n        }\n      })\n      .catch(err => {\n        console.log(err);\n      });\n  },\n  \n  methods: {\n    clickCurrent() {\n      this.$emit('setCurrent');\n      this.selectedSido = {};\n      this.selectedSigungu = {};\n    },\n    // 마우스 오버, 클릭 style 때문에 methods로 처리\n      itemStyle(item, type) {\n        let deco = {\n          color: this.brandColor.main.color,\n          background: this.brandBgColor.sub.backgroundColor,\n          marginBottom: this.layout_gutter+'px'\n        };\n\n        // 시도 아이템: 마우스오버 or 클릭 시 배경색상\n        if ( type === 'sido' && item !== undefined ) {\n          if ( item.id === this.hoverSido.id || item.id === this.selectedSido.id ) {\n            deco.background = this.brandBgColor.primary.backgroundColor;\n            deco.color = '#fff';\n          }\n        }\n\n        // 시군구 아이템: 마우스오버 or 클릭 시 배경색상\n        if ( type === 'sigungu' && item !== undefined ) {\n          if ( item.id === this.hoverSigungu.id || item.id === this.selectedSigungu.id ) {\n            deco.background = this.brandBgColor.primary.backgroundColor;\n            deco.color = '#fff';\n          }\n        }\n\n        return deco;\n      },\n    clickSido(item) {\n        // 시군구 데이터 가져오기\n        this.$axios.get(`public/address/${this.type}/sido/${item.id}/sigungu`)\n          .then(res => {\n            if ( res.status === 200 ) {\n              this.sigungu = res.data;\n              this.selectedSido = item;\n              this.selectedSigungu = {};\n            }\n          })\n          .catch(err => {\n            console.log(err);\n          })\n      },\n    clickSigungu(item) {\n        this.selectedSigungu = item;\n        // this.$emit('selectedRegion', {\n        //   sido: this.selectedSido,\n        //   sigungu: this.selectedSigungu\n        // });\n        this.selectRegion();\n      },\n    selectRegion() {\n        let address = `${this.selectedSido.name} ${this.selectedSigungu.name}`;\n        \n        if (this.selectedSido.name==='세종특별자치시') address = this.selectedSido.name;\n        \n        this.$axios.get(`/public/service/local?search_text=${address}`)\n        .then(res => {\n          if (res.status===200) {\n            let location = res.data.local_list[0];\n            this.$store.commit('setCurrentPosition', {\n              lng: location.x,\n              lat: location.y\n            })\n            this.$emit('changePosition', {\n              lng: location.x,\n              lat: location.y\n            })\n          }\n        })        \n      },\n    selectMap(val) {\n        this.$store.commit('setCurrentPosition', {\n          lng: val.x,\n          lat: val.y\n        })\n        this.$emit('changePosition', {\n          lng: val.x,\n          lat: val.y\n        })\n        this.showMap = false;\n        this.selectedSido = {};\n        this.selectedSigungu = {};\n      },\n    overSido(item) {\n        this.hoverSido = item;\n      },\n    leaveSido() {\n        this.hoverSido = {};\n      },\n    overSigungu(item) {\n        this.hoverSigungu = item;\n      },\n    leaveSigungu() {\n        this.hoverSigungu = {};\n      }\n  },\n  computed: {\n    colLeft() {\n      return {\n        marginRight: `${this.layout_gutter/2}px`\n      }\n    },\n    colRight() {\n      return {\n        marginLeft: `${this.layout_gutter/2}px`\n      }\n    },\n    scrollStyle() {\n      let scrollbar = this.getScrollbarWidth();\n      return {\n        width: `calc(100% + ${scrollbar}px)`,\n        height: `calc(100vh - ${this.scrollHeight}px)`,\n        overflowY: 'scroll',\n        overflowX: 'hidden'\n      }\n    }\n  },\n  watch: {\n    \n  }\n}\n</script>\n<style scoped>\n.sido-item, .sigungu-item {\n    padding: 0 16px;\n    height: 48px;\n  }\n</style>\n\n"],"sourceRoot":"src/components/Components/Block"}]}