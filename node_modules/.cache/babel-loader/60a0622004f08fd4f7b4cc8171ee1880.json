{"remainingRequest":"/Users/mard/dev/ilnoir/node_modules/babel-loader/lib/index.js!/Users/mard/dev/ilnoir/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/mard/dev/ilnoir/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mard/dev/ilnoir/src/components/PagePc/InsuranceRequest.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mard/dev/ilnoir/src/components/PagePc/InsuranceRequest.vue","mtime":1607313709677},{"path":"/Users/mard/dev/ilnoir/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mard/dev/ilnoir/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/mard/dev/ilnoir/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mard/dev/ilnoir/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.array.is-array\";\nimport \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.string.iterator\";\nimport \"core-js/modules/es6.array.from\";\nimport \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.date.to-string\";\nimport _slicedToArray from \"/Users/mard/dev/ilnoir/node_modules/@babel/runtime-corejs2/helpers/esm/slicedToArray\";\nimport \"core-js/modules/es6.array.for-each\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es7.object.entries\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"/Users/mard/dev/ilnoir/node_modules/@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport \"core-js/modules/es6.array.index-of\";\nimport \"core-js/modules/es6.regexp.split\";\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport CInputFileUploader from \"@/components/Components/Form/CInputFileUploader\";\nexport default {\n  name: \"InsuranceRequest\",\n  components: {\n    CInputFileUploader: CInputFileUploader\n  },\n  data: function data() {\n    return {\n      detail: {},\n      checkState: false,\n      agreeState: false,\n      dropState: false,\n      commonInvalid: false,\n      acciInvalid: false,\n      privacyInvalid: false,\n      agreeStyle: {\n        fontSize: '18px',\n        color: 'white',\n        backgroundColor: '#4f76ff',\n        border: '1px solid #4f76ff'\n      },\n      disStyle: {\n        fontSize: '18px',\n        color: 'white',\n        backgroundColor: 'white',\n        border: '1px solid #dddddd'\n      },\n      params: {\n        order_id: '',\n        identification: [],\n        bank_book: [],\n        invoice: [],\n        delivery: [],\n        seller: [],\n        damage: [],\n        misdelivery: [],\n        theft: [],\n        lost: [],\n        return: [],\n        privacy: [],\n        send_back: [],\n        accident: []\n      },\n      commonList: ['privacy', 'identification', 'bank_book', 'invoice', 'delivery', 'seller'],\n      acciList: ['damage', 'misdelivery', 'theft', 'lost', 'return'],\n      selectedAcci: undefined\n    };\n  },\n  created: function created() {\n    this.getData();\n  },\n  methods: {\n    getData: function getData() {\n      var _this = this;\n\n      this.$axios.get(\"http://54.180.114.33/api/user/\".concat(this.$route.query.user, \"/order/\").concat(this.$route.query.id)).then(function (res) {\n        if (res.status === 200) {\n          _this.detail = res.data;\n        }\n      });\n    },\n    acciState: function acciState(val) {\n      if (this.selectedAcci === undefined) {\n        return true;\n      } else {\n        if (this.selectedAcci === val) {\n          return true;\n        } else {\n          return false;\n        }\n      }\n    },\n    computedDate: function computedDate() {\n      if (this.detail.invoice_date.length > 0) {\n        return this.detail.invoice_date.split('T')[0];\n      } else {\n        return '';\n      }\n    },\n    onFileChange: function onFileChange(e, val) {\n      var file = e.target.files;\n      this.params[val].push(file);\n\n      if (this.acciList.indexOf(val) > -1) {\n        this.selectedAcci = val;\n      }\n\n      console.log(file); // let reader = new FileReader();\n      // reader.readAsDataURL(file);\n      // reader.onload = (f) => {\n      //   let ext = file.name.split('.')[file.name.split('.').length-1];\n      //   this.params[val].push({\n      //     name: file.name,\n      //     file : f.srcElement.result,\n      //     size: file.size,\n      //     extention: ext\n      //   })\n      // }\n    },\n    clickDelete: function clickDelete(val) {\n      this.params[val] = [];\n\n      if (this.acciList.indexOf(val) > -1) {\n        this.selectedAcci = undefined;\n      }\n    },\n    clickBtn: function clickBtn() {\n      this.routerPush('insurance_search');\n    },\n    clickAgree: function clickAgree() {\n      this.agreeState = !this.agreeState;\n    },\n    clickDrop: function clickDrop() {\n      this.dropState = !this.dropState;\n    },\n    clickRequest: function () {\n      var _clickRequest = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n        var _this2 = this;\n\n        var accident, params, param, formData, headers;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                accident = [];\n                params = Object.entries(this.params);\n                param = {};\n\n                if (!(this.agreeState === false)) {\n                  _context.next = 7;\n                  break;\n                }\n\n                this.privacyInvalid = true;\n                _context.next = 9;\n                break;\n\n              case 7:\n                _context.next = 9;\n                return params.forEach(function (item) {\n                  if (item[1].length === 0) {\n                    if (_this2.commonList.indexOf(item[0]) > -1) {\n                      _this2.commonInvalid = true;\n                    } else if (_this2.acciList.indexOf(item[0]) > -1) {\n                      accident.push(false);\n                    }\n                  } else {\n                    if (_this2.acciList.indexOf(item[0]) > -1) {\n                      accident.push(true);\n                      param['accident'] = item[1][0];\n                    } else {\n                      param[item[0]] = item[1][0];\n                    }\n                  }\n                });\n\n              case 9:\n                if (accident.indexOf(true) === -1) {\n                  this.acciInvalid = true;\n                }\n\n                if (!(this.commonInvalid | this.acciInvalid | this.privacyInvalid)) {\n                  _context.next = 12;\n                  break;\n                }\n\n                return _context.abrupt(\"return\");\n\n              case 12:\n                formData = new FormData();\n                headers = {\n                  'Content-Type': 'multipart/form-data'\n                }; // param.order_id = this.detail._id;\n\n                console.log(param);\n                formData.append('order_id', this.detail._id);\n                this.addFormData(formData, param); // params.order_id = this.detail._id;\n\n                this.$axios.post(\"http://54.180.114.33/api/user/claim\", formData, headers).then(function (res) {\n                  console.log('res', res);\n\n                  if (res.status === 200) {\n                    _this2.routerPush('request_done');\n                  }\n                });\n                console.log('done');\n\n              case 19:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function clickRequest() {\n        return _clickRequest.apply(this, arguments);\n      }\n\n      return clickRequest;\n    }(),\n    addFormData: function addFormData(formData, param) {\n      for (var _i = 0, _Object$entries = Object.entries(param); _i < _Object$entries.length; _i++) {\n        var _Object$entries$_i = _slicedToArray(_Object$entries[_i], 2),\n            key = _Object$entries$_i[0],\n            value = _Object$entries$_i[1];\n\n        var _iterator = _createForOfIteratorHelper(value),\n            _step;\n\n        try {\n          for (_iterator.s(); !(_step = _iterator.n()).done;) {\n            var item = _step.value;\n            formData.append(key, item);\n            console.log(key, value, item);\n            console.log('formData', formData);\n          }\n        } catch (err) {\n          _iterator.e(err);\n        } finally {\n          _iterator.f();\n        }\n      } // for (let file of this.value[]) {\n      //     formData.append(`file${i}`, file) // note, no square-brackets\n      // }\n\n    },\n    clickModal: function clickModal() {\n      this.commonInvalid = false;\n      this.acciInvalid = false;\n      this.privacyInvalid = false;\n    },\n    clickDown: function clickDown(val) {\n      if (val === 'privacy') {\n        // let filename = \"https://launchpack-storage.s3.ap-northeast-2.amazonaws.com/media/grit12/non-path/12371331_thumb.png\";\n        // var filename = url.substring(url.lastIndexOf(\"/\") + 1).split(\"?\")[0];\n        // var xhr = new XMLHttpRequest();\n        // xhr.responseType = 'blob';\n        // xhr.onload = function () {\n        //     var a = document.createElement('a');\n        //     a.href = window.URL.createObjectURL(xhr.response); \n        //     a.download = filename; \n        //     a.style.display = 'none';\n        //     document.body.appendChild(a);\n        //     a.click();\n        //     delete a;\n        // };\n        // xhr.open('GET', filename);\n        // xhr.send();\n        console.log('privacy down');\n      } else if (val === 'theft') {\n        console.log('theft');\n      } else if (val = 'lost') {\n        console.log('lost');\n      } else {\n        console.log('else');\n      }\n    }\n  },\n  computed: {\n    modalStyle: function modalStyle() {\n      return {\n        width: \"\".concat(window.innerWidth, \"px\"),\n        height: \"\".concat(window.innerHeight, \"px\"),\n        top: 0,\n        left: 0,\n        backgroundColor: 'rgba(0,0,0,0.5)',\n        zIndex: '9999'\n      };\n    }\n  }\n};",{"version":3,"sources":["InsuranceRequest.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n<div style=\"color:#212121;background-color:#f8f8f8\" class=\"flex-justify\"\n  v-if=\"detail\">\n  <div :style=\"pcMaxWidth\">\n    <div class=\"size-26 weight-500\" style=\"padding:60px 0 12px\">보험금 청구</div>\n    <div class=\"flex-end size-14\">\n      <div class=\"weight-400\">{{ detail.user.name }} ({{ detail.user.phone }})</div>\n      <div class=\"btn-back text-center weight-400 unselect\" @click=\"clickBtn\"\n        style=\"margin-left:12px\">다른 이름으로 조회</div>\n    </div>\n\n    <div style=\"margin-bottom:40px\">\n      <div class=\"size-18 margin-bottom-16 weight-500\" style=\"color:#4f76ff\">가입 내용</div>\n      <div class=\"table-title flex-align size-15 text-center\">\n        <div class=\"col-4\">보험상품명</div>\n        <div class=\"col-2\">피보험자명</div>\n        <div class=\"col-2\">보험증권번호</div>\n        <div class=\"col-2\">보험개시일</div>\n        <div class=\"col-2\">보험가입금액</div>\n      </div>\n\n      <div class=\"table-content flex-align size-15 text-center\">\n        <div class=\"col-4\">{{ detail.insurance.name }}</div>\n        <div class=\"col-2\">{{ detail.user.name }}</div>\n        <div class=\"col-2\">{{ detail.stock_number }}</div>\n        <div class=\"col-2\">{{ computedDate() }}</div>\n        <div class=\"col-2\">{{ detail.insurance_price | currency }}</div>\n      </div>\n    </div>\n\n    <div style=\"margin-bottom:40px\">\n      <div class=\"size-18 margin-bottom-16 weight-500\" style=\"color:#4f76ff\">공통 구비서류</div>\n      <div class=\"size-15\" style=\"border-top:2px solid #696969\">\n        <div class=\"table-contents flex-between\">\n          <div class=\"flex-align\">\n            <i class=\"material-icons\" style=\"margin-right:8px;font-size:20px\"\n              :style=\"params['privacy'].length>0 ? {color:'#4f76ff'} : {color:'#dddddd'} \">check</i>\n            <div class=\"size-15 weight-400\">보험금청구서/개인정보처리동의서</div>\n          </div>\n\n            <div v-if=\"params['privacy'].length>0\" class=\"flex-align size-13\"\n              style=\"color:#696969\">\n              <div>{{ params['privacy'][0][0].name }}</div>\n              <div class=\"btn-delete unselect weight-400\" style=\"margin-left:12px\"\n                @click=\"clickDelete('privacy')\">삭제</div>\n            </div>\n            <div v-else class=\"size-13 flex-align\">\n              <a class=\"btn-download unselect weight-400\"\n                href=\"static/image/icon/ic_apple.png\" download\n                @click=\"clickDown('privacy')\">양식 다운로드</a>\n              <input type=\"file\" id=\"privacy\" class=\"input-hidden\"\n                @change=\"e => onFileChange(e,'privacy')\">\n              <label class=\"btn-upload unselect weight-400\" style=\"margin-left:12px\"\n                for=\"privacy\">파일첨부</label>\n            </div>\n        </div>\n\n        <div class=\"table-contents flex-between\">\n          <div class=\"flex-align\">\n            <i class=\"material-icons\" style=\"margin-right:8px;font-size:20px\"\n              :style=\"params['identification'].length>0 ? {color:'#4f76ff'} : {color:'#dddddd'} \">check</i>\n            <div class=\"size-15 weight-400\" style=\"margin-right:20px\">신분증 사본</div>\n            <div class=\"size-14 weight-400\" style=\"color:#9e9e9e\">사업자인 경우 사업자등록증 사본</div>\n          </div>\n\n            <div v-if=\"params['identification'].length>0\" class=\"flex-align size-13\"\n              style=\"color:#696969\">\n              <div>{{ params['identification'][0][0].name }}</div>\n              <div class=\"btn-delete unselect weight-400\" style=\"margin-left:12px\"\n                @click=\"clickDelete('identification')\">삭제</div>\n            </div>\n            <div v-else class=\"size-13 flex-align\">\n              <input type=\"file\" id=\"identification\" class=\"input-hidden\"\n                @change=\"e => onFileChange(e,'identification')\">\n              <label class=\"btn-upload unselect weight-400\" style=\"margin-left:12px\"\n                for=\"identification\">파일첨부</label>\n            </div>\n        </div>\n\n        <div class=\"table-contents flex-between\">\n          <div class=\"flex-align\">\n            <i class=\"material-icons\" style=\"margin-right:8px;font-size:20px\"\n              :style=\"params['bank_book'].length>0 ? {color:'#4f76ff'} : {color:'#dddddd'} \">check</i>\n            <div class=\"size-15 weight-400\">통장사본</div>\n          </div>\n\n            <div v-if=\"params['bank_book'].length>0\" class=\"flex-align size-13\"\n              style=\"color:#696969\">\n              <div>{{ params['bank_book'][0][0].name }}</div>\n              <div class=\"btn-delete unselect weight-400\" style=\"margin-left:12px\"\n                @click=\"clickDelete('bank_book')\">삭제</div>\n            </div>\n            <div v-else class=\"size-13 flex-align\">\n              <input type=\"file\" id=\"bank_book\" class=\"input-hidden\"\n                @change=\"e => onFileChange(e,'bank_book')\">\n              <label class=\"btn-upload unselect weight-400\" style=\"margin-left:12px\"\n                for=\"bank_book\">파일첨부</label>\n            </div>\n        </div>\n\n        <div class=\"table-contents flex-between\">\n          <div class=\"flex-align\">\n            <i class=\"material-icons\" style=\"margin-right:8px;font-size:20px\"\n              :style=\"params['invoice'].length>0 ? {color:'#4f76ff'} : {color:'#dddddd'} \">check</i>\n            <div class=\"size-15 weight-400\">운송장</div>\n          </div>\n\n            <div v-if=\"params['invoice'].length>0\" class=\"flex-align size-13\"\n              style=\"color:#696969\">\n              <div>{{ params['invoice'][0][0].name }}</div>\n              <div class=\"btn-delete unselect weight-400\" style=\"margin-left:12px\"\n                @click=\"clickDelete('invoice')\">삭제</div>\n            </div>\n            <div v-else class=\"size-13 flex-align\">\n              <input type=\"file\" id=\"invoice\" class=\"input-hidden\"\n                @change=\"e => onFileChange(e,'invoice')\">\n              <label class=\"btn-upload unselect weight-400\" style=\"margin-left:12px\"\n                for=\"invoice\">파일첨부</label>\n            </div>\n        </div>\n\n        <div class=\"table-contents flex-between\">\n          <div class=\"flex-align\">\n            <i class=\"material-icons\" style=\"margin-right:8px;font-size:20px\"\n              :style=\"params['delivery'].length>0 ? {color:'#4f76ff'} : {color:'#dddddd'} \">check</i>\n            <div class=\"size-15 weight-400\">택배시 배송이력화면 캡쳐</div>\n          </div>\n\n            <div v-if=\"params['delivery'].length>0\" class=\"flex-align size-13\"\n              style=\"color:#696969\">\n              <div>{{ params['delivery'][0][0].name }}</div>\n              <div class=\"btn-delete unselect weight-400\" style=\"margin-left:12px\"\n                @click=\"clickDelete('delivery')\">삭제</div>\n            </div>\n            <div v-else class=\"size-13 flex-align\">\n              <input type=\"file\" id=\"delivery\" class=\"input-hidden\"\n                @change=\"e => onFileChange(e,'delivery')\">\n              <label class=\"btn-upload unselect weight-400\" style=\"margin-left:12px\"\n                for=\"delivery\">파일첨부</label>\n            </div>\n        </div>\n\n        <div class=\"table-contents flex-between\">\n          <div class=\"flex-align\">\n            <i class=\"material-icons\" style=\"margin-right:8px;font-size:20px\"\n              :style=\"params['seller'].length>0 ? {color:'#4f76ff'} : {color:'#dddddd'} \">check</i>\n            <div class=\"size-15 weight-400\">구매 당시 판매자가 등재한 물품사진</div>\n          </div>\n\n            <div v-if=\"params['seller'].length>0\" class=\"flex-align size-13\"\n              style=\"color:#696969\">\n              <div>{{ params['seller'][0][0].name }}</div>\n              <div class=\"btn-delete unselect weight-400\" style=\"margin-left:12px\"\n                @click=\"clickDelete('seller')\">삭제</div>\n            </div>\n            <div v-else class=\"size-13 flex-align\">\n              <input type=\"file\" id=\"seller\" class=\"input-hidden\"\n                @change=\"e => onFileChange(e,'seller')\">\n              <label class=\"btn-upload unselect weight-400\" style=\"margin-left:12px\"\n                for=\"seller\">파일첨부</label>\n            </div>\n        </div>\n\n      </div>\n    </div>\n\n    <div style=\"margin-bottom:40px\">\n      <div class=\"flex-align margin-bottom-16\">\n        <div class=\"size-18 weight-500\" style=\"color:#4f76ff;margin-right:20px\">사고 유형별 구비서류</div>\n        <div class=\"size-14 weight-500\" style=\"color:#696969\">아래 사고 유형 중 한가지를 선택하여 입력해 주세요.</div>\n       </div> \n      <div class=\"size-15\" style=\"border-top:2px solid #696969\">\n        <div class=\"table-contents flex-between\">\n          <div class=\"flex-align\">\n            <div class=\"size-15 weight-400\">1. 파손시</div>\n          </div>\n\n            <div v-if=\"params['damage'].length>0\" class=\"flex-align size-13\"\n              style=\"color:#696969\">\n              <div>{{ params['damage'][0][0].name }}</div>\n              <div class=\"btn-delete unselect weight-400\" style=\"margin-left:12px\"\n                @click=\"clickDelete('damage')\">삭제</div>\n            </div>\n            <div v-else class=\"size-13 flex-align\">\n              <input type=\"file\" id=\"damage\" class=\"input-hidden\"\n                @change=\"e => onFileChange(e,'damage')\">\n              <label class=\"btn-upload unselect weight-400\" style=\"margin-left:12px\"\n                for=\"damage\"\n                v-if=\"acciState('damage')\">파일첨부</label>\n              <div v-else style=\"width:0;height:38px\"></div>\n            </div>\n        </div>\n\n        <div class=\"table-contents flex-between\">\n          <div class=\"flex-align\">\n            <div class=\"size-15 weight-400\" style=\"margin-right:16px\">2. 망실(오배송)</div>\n            <div class=\"size-14 weight-400\" style=\"color:#bbbbbb\">경찰서사고접수확인서 등 판매자 사기신고서류 첨부</div>\n          </div>\n\n            <div v-if=\"params['misdelivery'].length>0\" class=\"flex-align size-13\"\n              style=\"color:#696969\">\n              <div>{{ params['misdelivery'][0][0].name }}</div>\n              <div class=\"btn-delete unselect weight-400\" style=\"margin-left:12px\"\n                @click=\"clickDelete('misdelivery')\">삭제</div>\n            </div>\n            <div v-else class=\"size-13 flex-align\">\n              <input type=\"file\" id=\"misdelivery\" class=\"input-hidden\"\n                @change=\"e => onFileChange(e,'misdelivery')\">\n              <label class=\"btn-upload unselect weight-400\" style=\"margin-left:12px\"\n                for=\"misdelivery\"\n                v-if=\"acciState('misdelivery')\">파일첨부</label>\n              <div v-else style=\"width:0;height:38px\"></div>\n            </div>\n        </div>\n\n        <div class=\"table-contents flex-between\">\n          <div class=\"flex-align\">\n            <div class=\"size-15 weight-400\" style=\"margin-right:16px\">3. 배송이 완료되었으나 물품 도난시</div>\n            <div class=\"size-14 weight-400\" style=\"color:#bbbbbb\">운송인(택배기사 등)이 작성한 도난확인증명서 첨부</div>\n          </div>\n\n            <div v-if=\"params['theft'].length>0\" class=\"flex-align size-13\"\n              style=\"color:#696969\">\n              <div>{{ params['theft'][0][0].name }}</div>\n              <div class=\"btn-delete unselect weight-400\" style=\"margin-left:12px\"\n                @click=\"clickDelete('theft')\">삭제</div>\n            </div>\n            <div v-else class=\"size-13 flex-align\">\n              <a class=\"btn-download unselect weight-400\"\n                v-if=\"acciState('theft')\"\n                href=\"static/image/icon/ic_apple.png\" download\n                @click=\"clickDown('theft')\">양식 다운로드</a>\n              <input type=\"file\" id=\"theft\" class=\"input-hidden\"\n                @change=\"e => onFileChange(e,'theft')\">\n              <label class=\"btn-upload unselect weight-400\" style=\"margin-left:12px\"\n                for=\"theft\"\n                v-if=\"acciState('theft')\">파일첨부</label>\n              <div v-else style=\"width:0;height:38px\"></div>\n            </div>\n        </div>\n\n        <div class=\"table-contents flex-between\">\n          <div class=\"flex-align\">\n            <div class=\"size-15 weight-400\" style=\"margin-right:16px\">4. 분실</div>\n            <div class=\"size-14 weight-400\" style=\"color:#bbbbbb\">운송인(택배기사 등)이 작성한 분실확인증명서 첨부</div>\n          </div>\n\n            <div v-if=\"params['lost'].length>0\" class=\"flex-align size-13\"\n              style=\"color:#696969\">\n              <div>{{ params['lost'][0][0].name }}</div>\n              <div class=\"btn-delete unselect weight-400\" style=\"margin-left:12px\"\n                @click=\"clickDelete('lost')\">삭제</div>\n            </div>\n            <div v-else class=\"size-13 flex-align\">\n              <a class=\"btn-download unselect weight-400\"\n                v-if=\"acciState('lost')\"\n                href=\"static/image/icon/ic_apple.png\" download\n                @click=\"clickDown('lost')\">양식 다운로드</a>\n              <input type=\"file\" id=\"lost\" class=\"input-hidden\"\n                @change=\"e => onFileChange(e,'lost')\">\n              <label class=\"btn-upload unselect weight-400\" style=\"margin-left:12px\"\n                for=\"lost\"\n                v-if=\"acciState('lost')\">파일첨부</label>\n              <div v-else style=\"width:0;height:38px\"></div>\n            </div>\n        </div>\n\n        <div class=\"table-contents flex-between\">\n          <div class=\"flex-align\">\n            <div class=\"size-15 weight-400\" style=\"margin-right:16px\">5. 반송시</div>\n            <div class=\"size-14 weight-400\" style=\"color:#bbbbbb\">반품운송장과 반품배송비용 영수증 첨부</div>\n          </div>\n\n            <div v-if=\"params['return'].length>0\" class=\"flex-align size-13\"\n              style=\"color:#696969\">\n              <div>{{ params['return'][0][0].name }}</div>\n              <div class=\"btn-delete unselect weight-400\" style=\"margin-left:12px\"\n                @click=\"clickDelete('return')\">삭제</div>\n            </div>\n            <div v-else class=\"size-13 flex-align\">\n              <input type=\"file\" id=\"return\" class=\"input-hidden\"\n                @change=\"e => onFileChange(e,'return')\">\n              <label class=\"btn-upload unselect weight-400\" style=\"margin-left:12px\"\n                for=\"return\"\n                v-if=\"acciState('return')\">파일첨부</label>\n              <div v-else style=\"width:0;height:38px\"></div>\n            </div>\n        </div>\n\n      </div>\n    </div>\n\n    <div style=\"margin-bottom:60px\">\n      <div class=\"flex-align margin-bottom-16\">\n        <div class=\"size-18 weight-500\" style=\"color:#4f76ff;margin-right:20px\">개인 정보 제공 동의</div>\n       </div> \n      <div class=\"size-15\" style=\"border-top:2px solid #696969\">\n        <div class=\"table-privacy flex-between\">\n          <div class=\"flex-align unselect\" @click=\"clickAgree\">\n            <i class=\"material-icons\" :style=\"agreeState ? agreeStyle : disStyle\"\n              style=\"margin-right:8px\">check</i>\n            <div class=\"size-15\">정보 제공 동의 확인</div>\n          </div>\n        </div>\n\n        <div class=\"table-privacy flex-between\">\n          <div class=\"flex-align unselect\" @click=\"clickDrop\">\n            <i class=\"material-icons\" \n              style=\"margin-right:6px;color:#4f76ff;font-size:16px\">{{ dropState ? 'remove' : 'add'}}</i>\n            <div class=\"size-15 weight-400\" style=\"margin-right:16px\">개인 정보 수집·이용에 관한 동의사항</div>\n          </div>\n        </div>\n        <div v-if=\"dropState\" class=\"drop-box size-14\">\n          개인정보 처리방침\n        </div>\n\n      </div>\n    </div>\n\n    <div class=\"flex-justify\">\n      <div class=\"btn-request size-16 weight-400 unselect\"\n        @click=\"clickRequest\">제출하기</div>\n    </div>\n\n  </div>\n\n  <div class=\"position-fixed flex-center\" :style=\"modalStyle\" v-if=\"commonInvalid\">\n    <div class=\"text-center\">\n      <div class=\"modal-white size-14\">공통 구비서류를 모두 첨부해 주시기 바랍니다.</div>\n      <div class=\"modal-btn size-16 unselect\"\n        @click.stop.prevent=\"clickModal\">확인</div>\n    </div>\n  </div>\n\n  <div class=\"position-fixed flex-center\" :style=\"modalStyle\" v-if=\"acciInvalid\">\n    <div class=\"text-center\">\n      <div class=\"modal-white size-14\">사고유형별 구비서류를 첨부해 주시기 바랍니다.</div>\n      <div class=\"modal-btn size-16 unselect\"\n        @click.stop.prevent=\"clickModal\">확인</div>\n    </div>\n  </div>\n\n  <div class=\"position-fixed flex-center\" :style=\"modalStyle\" v-if=\"privacyInvalid\">\n    <div class=\"text-center\">\n      <div class=\"modal-white size-14\">개인 정보 제공에 동의해 주시기 바랍니다.</div>\n      <div class=\"modal-btn size-16 unselect\"\n        @click.stop.prevent=\"clickModal\">확인</div>\n    </div>\n  </div>\n\n</div>\n</template>\n<script>\nimport CInputFileUploader from \"@/components/Components/Form/CInputFileUploader\";\n\nexport default {\n  name: \"InsuranceRequest\",\n  components: {\n    CInputFileUploader\n  },\n  data() {\n    return {\n      detail: {\n      },\n      checkState: false,\n      agreeState: false,\n      dropState: false,\n      commonInvalid: false,\n      acciInvalid: false,\n      privacyInvalid: false,\n      agreeStyle: {\n        fontSize: '18px',\n        color: 'white',\n        backgroundColor: '#4f76ff',\n        border: '1px solid #4f76ff'\n      },\n      disStyle: {\n        fontSize: '18px',\n        color: 'white',\n        backgroundColor: 'white',\n        border: '1px solid #dddddd'\n      },\n      params: {\n        order_id: '',\n        identification: [],\n        bank_book: [],\n        invoice: [],\n        delivery: [],\n        seller: [],\n        damage: [],\n        misdelivery: [],\n        theft: [],\n        lost: [],\n        return: [],\n        privacy: [],\n        send_back: [],\n        accident: []\n      },\n      commonList: ['privacy', 'identification', 'bank_book', 'invoice', 'delivery', 'seller'],\n      acciList: ['damage', 'misdelivery', 'theft', 'lost', 'return'],\n      selectedAcci: undefined\n    }\n  },\n  created() {\n    this.getData();\n  },\n  methods: {\n    getData() {\n      this.$axios.get(`http://54.180.114.33/api/user/${this.$route.query.user}/order/${this.$route.query.id}`).then(res => {\n        if(res.status===200) {\n          this.detail = res.data;\n        }\n      });\n    },\n    acciState(val) {\n      if(this.selectedAcci===undefined) {\n        return true;\n      }\n      else {\n        if(this.selectedAcci===val) {\n          return true;\n        }\n        else {\n          return false;\n        }\n      }\n    },\n    computedDate() {\n      if(this.detail.invoice_date.length>0) {\n        return this.detail.invoice_date.split('T')[0];\n      }\n      else {\n        return ''\n      }\n    },\n    onFileChange(e, val) {\n      let file = e.target.files;\n      this.params[val].push(file);\n      if(this.acciList.indexOf(val)>-1) {\n        this.selectedAcci = val;\n      }\n      console.log(file)\n      // let reader = new FileReader();\n      // reader.readAsDataURL(file);\n      // reader.onload = (f) => {\n      //   let ext = file.name.split('.')[file.name.split('.').length-1];\n      //   this.params[val].push({\n      //     name: file.name,\n      //     file : f.srcElement.result,\n      //     size: file.size,\n      //     extention: ext\n      //   })\n      // }\n    },\n    clickDelete(val) {\n      this.params[val] = [];\n      if(this.acciList.indexOf(val)>-1) {\n        this.selectedAcci = undefined;\n      }\n    },\n    clickBtn() {\n      this.routerPush('insurance_search');\n    },\n    clickAgree() {\n      this.agreeState = !this.agreeState;\n    },\n    clickDrop() {\n      this.dropState = !this.dropState;\n    },\n    async clickRequest() {\n      let accident = [];\n      let params = Object.entries(this.params);\n      let param = {};\n      if(this.agreeState === false) {\n        this.privacyInvalid = true;\n      }\n      else {\n        await params.forEach(item => {\n          if(item[1].length===0) {\n            if(this.commonList.indexOf(item[0])>-1) {\n              this.commonInvalid = true;\n            }\n            else if(this.acciList.indexOf(item[0])>-1) {\n              accident.push(false);\n            }\n          }\n          else {\n            if(this.acciList.indexOf(item[0])>-1) {\n              accident.push(true);\n              param['accident'] = item[1][0];\n            }\n            else {\n              param[item[0]] = item[1][0];\n            }\n          }\n        });\n      }\n\n      if(accident.indexOf(true)===-1) {\n        this.acciInvalid = true;\n      }\n      \n      if(this.commonInvalid | this.acciInvalid | this.privacyInvalid) return;\n\n      let formData = new FormData();\n      let headers = { 'Content-Type': 'multipart/form-data' }\n      // param.order_id = this.detail._id;\n      console.log(param)\n      formData.append('order_id', this.detail._id);\n      this.addFormData(formData, param);\n      \n      // params.order_id = this.detail._id;\n      this.$axios.post(`http://54.180.114.33/api/user/claim`, formData, headers).then(res => {\n        console.log('res',res)\n        if(res.status===200) {\n          this.routerPush('request_done')\n        }\n      });\n\n      console.log('done')\n    },\n    addFormData (formData, param) {\n      for (let [key, value] of Object.entries(param)) {\n          for (let item of value) {\n\n              formData.append(key, item);\n              console.log(key, value, item)\n              console.log('formData',formData)\n          }\n      }\n      // for (let file of this.value[]) {\n      //     formData.append(`file${i}`, file) // note, no square-brackets\n      // }\n    },\n    clickModal() {\n      this.commonInvalid = false;\n      this.acciInvalid = false;\n      this.privacyInvalid = false;\n    },\n    clickDown(val) {\n      if(val==='privacy') {\n        // let filename = \"https://launchpack-storage.s3.ap-northeast-2.amazonaws.com/media/grit12/non-path/12371331_thumb.png\";\n        // var filename = url.substring(url.lastIndexOf(\"/\") + 1).split(\"?\")[0];\n        // var xhr = new XMLHttpRequest();\n        // xhr.responseType = 'blob';\n        // xhr.onload = function () {\n        //     var a = document.createElement('a');\n        //     a.href = window.URL.createObjectURL(xhr.response); \n        //     a.download = filename; \n        //     a.style.display = 'none';\n        //     document.body.appendChild(a);\n        //     a.click();\n        //     delete a;\n        // };\n        // xhr.open('GET', filename);\n        // xhr.send();\n        console.log('privacy down')\n      }\n      else if(val==='theft') {\n        console.log('theft')\n      }\n      else if(val='lost') {\n        console.log('lost')\n      }\n      else {\n        console.log('else')\n      }\n\n    }\n  },\n  computed: {\n    modalStyle() {\n      return {\n        width: `${window.innerWidth}px`,\n        height: `${window.innerHeight}px`,\n        top: 0,\n        left: 0,\n        backgroundColor: 'rgba(0,0,0,0.5)',\n        zIndex: '9999'\n      }\n    }\n  }\n}\n</script>\n<style scoped>\n.btn-back {\n  width: 136px;\n  height: 34px;\n  line-height: 32px;\n  background-color: #7e7e7e;\n  color: white;\n}\n.table-title {\n  background-color: white;\n  padding: 8px 0;\n  border-top: 2px solid #696969;\n  border-bottom: 2px solid #696969;\n}\n.table-content {\n  background-color: white;\n  padding: 12px 0;\n  border-bottom: 1px solid #eeeeee;\n}\n.table-contents {\n  background-color: white;\n  padding: 6px 12px;\n  border-bottom: 1px solid #eeeeee;\n}\n.table-privacy {\n  background-color: white;\n  padding: 12px 12px;\n  border-bottom: 1px solid #eeeeee;\n}\n.btn-delete {\n  border: 1px solid #dddddd;\n  padding: 8px 12px;\n}\n.btn-upload {\n  border: 1px solid #4f76ff;\n  color: #4f76ff;\n  padding: 8px 0;\n  width: 120px;\n  text-align: center;\n}\n.btn-download {\n  border: 1px solid #dddddd;\n  color: #696969;\n  padding: 8px 0;\n  width: 120px;\n  text-align: center;\n}\n.drop-box {\n  padding: 16px;\n  background-color: #eeeeee;\n  max-height: 420px;\n  overflow-y: auto;\n}\n.btn-request {\n  width: 360px;\n  height: 54px;\n  line-height: 54px;\n  text-align: center;\n  background-color: #4f76ff;\n  color: white;\n}\n.modal-white {\n  width: 400px;\n  height: 140px;\n  line-height: 140px;\n  background-color: white;\n}\n.modal-btn {\n  width: 400px;\n  height: 54px;\n  line-height: 54px;\n  background-color: #4f76ff;\n  color: white;\n}\n.input-hidden {\n  width: 0;\n  height: 0;\n  position: fixed;\n  top: -100px;\n  left: -100px;\n}\n</style>"],"sourceRoot":"src/components/PagePc"}]}